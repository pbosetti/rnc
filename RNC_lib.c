/* generated by Ruby2CExtension 0.2.0 (ruby 1.8.6 (2008-03-03) [universal-darwin9.0]) on Fri Aug 29 15:01:58 +0200 2008 */
#include <ruby.h>
#include <node.h>
#include <env.h>
#include <st.h>
extern VALUE ruby_top_self;
static VALUE org_ruby_top_self;
static ID sym[164];
static void init_syms() {
sym[0] = rb_intern("PID");
sym[1] = rb_intern("@@version");
sym[2] = rb_intern("version");
sym[3] = rb_intern("set_point");
sym[4] = rb_intern("actual");
sym[5] = rb_intern("saturation");
sym[6] = rb_intern("attr_accessor");
sym[7] = rb_intern("error");
sym[8] = rb_intern("saturate");
sym[9] = rb_intern("attr_reader");
sym[10] = rb_intern("p");
sym[11] = rb_intern("i");
sym[12] = rb_intern("d");
sym[13] = rb_intern("kp");
sym[14] = rb_intern("ki");
sym[15] = rb_intern("kd");
sym[16] = rb_intern("attr_writer");
sym[17] = rb_intern("@saturation");
sym[18] = rb_intern("@saturate");
sym[19] = rb_intern("@kp");
sym[20] = rb_intern("@ki");
sym[21] = rb_intern("@kd");
sym[22] = rb_intern("reset");
sym[23] = rb_intern("@d");
sym[24] = rb_intern("@i");
sym[25] = rb_intern("@p");
sym[26] = rb_intern("@actual");
sym[27] = rb_intern("@set_point");
sym[28] = rb_intern("@error");
sym[29] = rb_intern("@gain_par");
sym[30] = rb_intern("-");
sym[31] = rb_intern("*");
sym[32] = rb_intern("+");
sym[33] = rb_intern("==");
sym[34] = rb_intern("/");
sym[35] = rb_intern(">");
sym[36] = rb_intern("[]");
sym[37] = rb_intern("<");
sym[38] = rb_intern("to_s");
sym[39] = rb_intern("include?");
sym[40] = rb_intern("raise");
sym[41] = rb_intern("instance_variable_get");
sym[42] = rb_intern("===");
sym[43] = rb_intern("Numeric");
sym[44] = rb_intern("Proc");
sym[45] = rb_intern("call");
sym[46] = rb_intern("method_missing");
sym[47] = rb_intern("RNC");
sym[48] = rb_intern("Axis");
sym[49] = rb_intern("Math");
sym[50] = rb_intern("include");
sym[51] = rb_intern("v_0");
sym[52] = rb_intern("x_0");
sym[53] = rb_intern("thrust");
sym[54] = rb_intern("force");
sym[55] = rb_intern("mass");
sym[56] = rb_intern("@v_0");
sym[57] = rb_intern("@x_0");
sym[58] = rb_intern("@thrust");
sym[59] = rb_intern("to_f");
sym[60] = rb_intern("@force");
sym[61] = rb_intern("@mass");
sym[62] = rb_intern("res");
sym[63] = rb_intern("@res");
sym[64] = rb_intern("new");
sym[65] = rb_intern("@pid");
sym[66] = rb_intern("-@");
sym[67] = rb_intern("max_f");
sym[68] = rb_intern("saturation=");
sym[69] = rb_intern("initialize");
sym[70] = rb_intern("x");
sym[71] = rb_intern("v");
sym[72] = rb_intern("exp");
sym[73] = rb_intern("**");
sym[74] = rb_intern("state=");
sym[75] = rb_intern("set_point=");
sym[76] = rb_intern("actual=");
sym[77] = rb_intern("output");
sym[78] = rb_intern("state");
sym[79] = rb_intern("Machine");
sym[80] = rb_intern("@x");
sym[81] = rb_intern("y");
sym[82] = rb_intern("@y");
sym[83] = rb_intern("z");
sym[84] = rb_intern("@z");
sym[85] = rb_intern("states=");
sym[86] = rb_intern("go_to");
sym[87] = rb_intern("<<");
sym[88] = rb_intern("step");
sym[89] = rb_intern("sqrt");
sym[90] = rb_intern("inspect");
sym[91] = rb_intern("X");
sym[92] = rb_intern("Y");
sym[93] = rb_intern("Z");
sym[94] = rb_intern("AXES");
sym[95] = rb_intern("G00");
sym[96] = rb_intern("G01");
sym[97] = rb_intern("COMMANDS");
sym[98] = rb_intern("Array");
sym[99] = rb_intern("Point");
sym[100] = rb_intern("to_i");
sym[101] = rb_intern("Symbol");
sym[102] = rb_intern("String");
sym[103] = rb_intern("to_sym");
sym[104] = rb_intern("ArgumentError");
sym[105] = rb_intern("[]=");
sym[106] = rb_intern("delta");
sym[107] = rb_intern("each");
sym[108] = rb_intern("Block");
sym[109] = rb_intern("line");
sym[110] = rb_intern("target");
sym[111] = rb_intern("feed");
sym[112] = rb_intern("type");
sym[113] = rb_intern("@target");
sym[114] = rb_intern("@feed");
sym[115] = rb_intern("@type");
sym[116] = rb_intern("line=");
sym[117] = rb_intern("upcase");
sym[118] = rb_intern("@line");
sym[119] = rb_intern("parse");
sym[120] = rb_intern("split");
sym[121] = rb_intern("shift");
sym[122] = rb_intern("Parser");
sym[123] = rb_intern("config");
sym[124] = rb_intern("blocks");
sym[125] = rb_intern("@config");
sym[126] = rb_intern("@blocks");
sym[127] = rb_intern("pos");
sym[128] = rb_intern("@state");
sym[129] = rb_intern("Profiler");
sym[130] = rb_intern("@profiler");
sym[131] = rb_intern("puts");
sym[132] = rb_intern("start");
sym[133] = rb_intern("end");
sym[134] = rb_intern("modal");
sym[135] = rb_intern("prof");
sym[136] = rb_intern("velocity_profile");
sym[137] = rb_intern("dt");
sym[138] = rb_intern("dup");
sym[139] = rb_intern("File");
sym[140] = rb_intern("file");
sym[141] = rb_intern("foreach");
sym[142] = rb_intern("times");
sym[143] = rb_intern("feeds");
sym[144] = rb_intern("accel");
sym[145] = rb_intern("@cfg");
sym[146] = rb_intern("abs");
sym[147] = rb_intern("A");
sym[148] = rb_intern("D");
sym[149] = rb_intern(">=");
sym[150] = rb_intern("t_q");
sym[151] = rb_intern("up");
sym[152] = rb_intern("quantize");
sym[153] = rb_intern("@times");
sym[154] = rb_intern("@feeds");
sym[155] = rb_intern("@accel");
sym[156] = rb_intern("@dt");
sym[157] = rb_intern("proc");
sym[158] = rb_intern("%");
sym[159] = rb_intern("Interpolator");
sym[160] = rb_intern("block");
sym[161] = rb_intern("select");
sym[162] = rb_intern("@block");
sym[163] = rb_intern("eval");
}
static VALUE global[41];
static void init_globals() {
global[0] = Qfalse;
rb_global_variable(&(global[0]));
global[1] = rb_float_new(1.0000000000000000000000000000000000000000e+00);
rb_global_variable(&(global[1]));
global[2] = rb_float_new(0.0000000000000000000000000000000000000000e+00);
rb_global_variable(&(global[2]));
global[3] = rb_str_new("kp", 2);
rb_global_variable(&(global[3]));
global[4] = rb_str_new("ki", 2);
rb_global_variable(&(global[4]));
global[5] = rb_str_new("kd", 2);
rb_global_variable(&(global[5]));
global[6] = rb_str_new("Undefined method ", 17);
rb_global_variable(&(global[6]));
global[7] = rb_str_new("@", 1);
rb_global_variable(&(global[7]));
global[8] = Qfalse;
rb_global_variable(&(global[8]));
global[9] = rb_float_new(1.0000000000000000000000000000000000000000e+03);
rb_global_variable(&(global[9]));
global[10] = rb_float_new(5.0000000000000000000000000000000000000000e+02);
rb_global_variable(&(global[10]));
global[11] = Qfalse;
rb_global_variable(&(global[11]));
global[12] = rb_str_new("", 0);
rb_global_variable(&(global[12]));
global[13] = rb_str_new(" ", 1);
rb_global_variable(&(global[13]));
global[14] = Qfalse;
rb_global_variable(&(global[14]));
global[15] = Qfalse;
rb_global_variable(&(global[15]));
global[16] = Qfalse;
rb_global_variable(&(global[16]));
global[17] = Qfalse;
rb_global_variable(&(global[17]));
global[18] = Qfalse;
rb_global_variable(&(global[18]));
global[19] = Qfalse;
rb_global_variable(&(global[19]));
global[20] = Qfalse;
rb_global_variable(&(global[20]));
global[21] = rb_str_new("[", 1);
rb_global_variable(&(global[21]));
global[22] = rb_str_new("-", 1);
rb_global_variable(&(global[22]));
global[23] = rb_str_new("]", 1);
rb_global_variable(&(global[23]));
global[24] = rb_str_new("G00 X0 Y0 Z0 F1000", 18);
rb_global_variable(&(global[24]));
global[25] = Qfalse;
rb_global_variable(&(global[25]));
global[26] = Qfalse;
rb_global_variable(&(global[26]));
global[27] = rb_str_new("Command ", 8);
rb_global_variable(&(global[27]));
global[28] = rb_str_new(" unavailable", 12);
rb_global_variable(&(global[28]));
global[29] = rb_reg_new("^([XYZ])(.+)", 12, 0);
rb_global_variable(&(global[29]));
global[30] = rb_reg_new("^F(.+)", 6, 0);
rb_global_variable(&(global[30]));
global[31] = rb_str_new("Could not parse token ", 22);
rb_global_variable(&(global[31]));
global[32] = rb_str_new(" F ", 3);
rb_global_variable(&(global[32]));
global[33] = Qfalse;
rb_global_variable(&(global[33]));
global[34] = rb_str_new("Parsing line ", 13);
rb_global_variable(&(global[34]));
global[35] = rb_str_new(": ", 2);
rb_global_variable(&(global[35]));
global[36] = Qfalse;
rb_global_variable(&(global[36]));
global[37] = rb_str_new("No config ", 10);
rb_global_variable(&(global[37]));
global[38] = rb_str_new(" available", 10);
rb_global_variable(&(global[38]));
global[39] = Qfalse;
rb_global_variable(&(global[39]));
global[40] = Qfalse;
rb_global_variable(&(global[40]));
}
static NODE * find_top_cref(NODE *cref) {
while (cref && cref->nd_next) cref = cref->nd_next;
return cref;
}
static void cref_data_mark(NODE *n) {
rb_gc_mark((VALUE)n);
}
static void def_only_once(ID mid) {
rb_raise(rb_eTypeError, "def for \"%s\" can only be used once", rb_id2name(mid));
}
static VALUE cvar_cbase(NODE *cref) {
while (FL_TEST(cref->nd_clss, FL_SINGLETON)) { cref = cref->nd_next; }
return cref->nd_clss;
}
static void wrong_arg_num(int argc, int exp) {
rb_raise(rb_eArgError, "wrong number of arguments (%d for %d)", argc, exp);
}
static VALUE class_prep(VALUE prefix, VALUE super, ID cname) {
VALUE klass;
if (rb_const_defined_at(prefix, cname)) {
klass = rb_const_get_at(prefix, cname);
if (TYPE(klass) != T_CLASS) rb_raise(rb_eTypeError, "%s is not a class", rb_id2name(cname));
if (super) {
VALUE tmp = rb_class_real(RCLASS(klass)->super);
if (tmp != super) rb_raise(rb_eTypeError, "superclass mismatch for class %s", rb_id2name(cname));
}
if (ruby_safe_level >= 4) rb_raise(rb_eSecurityError, "extending class prohibited");
}
else {
if (!super) super = rb_cObject;
klass = rb_define_class_id(cname, super);
rb_set_class_path(klass, prefix, rb_id2name(cname));
rb_const_set(prefix, cname, klass);
rb_class_inherited(super, klass);
}
return klass;
}
static VALUE const_get(ID id, NODE *cref) {
NODE *cbase = cref;
VALUE result;
while (cbase && cbase->nd_next) {
VALUE klass = cbase->nd_clss;
while (RCLASS(klass)->iv_tbl && st_lookup(RCLASS(klass)->iv_tbl, id, &result)) {
if (result == Qundef) {
if (!RTEST(rb_autoload_load(klass, id))) break;
continue;
}
return result;
}
cbase = cbase->nd_next;
}
return rb_const_get(cref->nd_clss, id);
}
static VALUE module_prep(VALUE prefix, ID cname) {
VALUE module;
if (rb_const_defined_at(prefix, cname)) {
module = rb_const_get_at(prefix, cname);
if (TYPE(module) != T_MODULE) rb_raise(rb_eTypeError, "%s is not a module", rb_id2name(cname));
if (ruby_safe_level >= 4) rb_raise(rb_eSecurityError, "extending module prohibited");
}
else {
module = rb_define_module_id(cname);
rb_set_class_path(module, prefix, rb_id2name(cname));
rb_const_set(prefix, cname, module);
}
return module;
}
static void class_nil_check(VALUE klass) {
if (NIL_P(klass)) rb_raise(rb_eTypeError, "no class/module to add method");
}
static void defs_allowed(VALUE recv, ID mid) {
if (ruby_safe_level >= 4 && !OBJ_TAINTED(recv))
rb_raise(rb_eSecurityError, "Insecure: can't define singleton method");
if (OBJ_FROZEN(recv)) rb_error_frozen("object");
if (ruby_safe_level >= 4) {
NODE *body = 0;
VALUE klass = rb_singleton_class(recv);
if (st_lookup(RCLASS(klass)->m_tbl, mid, (st_data_t *)&body))
rb_raise(rb_eSecurityError, "redefining method prohibited");
}
}
static void super_allowed_check() {
if (!ruby_frame->last_func) {
rb_raise(rb_eNoMethodError, "super called outside of method");
}
}
typedef VALUE (*BUILTINOPT_FP)(ANYARGS);
static BUILTINOPT_FP builtinopt_method_tbl[144];
static BUILTINOPT_FP builtinopt_method_lookup(VALUE klass, VALUE origin, ID mid, long arity) {
NODE *body;
while (klass != origin) {
if (TYPE(klass) == T_ICLASS && RBASIC(klass)->klass == origin) break;
if (st_lookup(RCLASS(klass)->m_tbl, mid, (st_data_t *)&body)) return NULL;
klass = RCLASS(klass)->super;
if (!klass) return NULL;
}
if (st_lookup(RCLASS(klass)->m_tbl, mid, (st_data_t *)&body)) {
body = body->nd_body;
if (nd_type(body) == NODE_FBODY) body = body->nd_head;
if (nd_type(body) == NODE_CFUNC && body->nd_argc == arity) {
return body->nd_cfnc;
}
}
return NULL;
}
static VALUE builtinoptmeth_include__pred__1__fallback(VALUE recv, VALUE arg_0) {
return rb_funcall3(recv, sym[39] /* include? */, 1, &arg_0);
}
static VALUE builtinoptop_plus__1__fallback(VALUE recv, VALUE arg_0) {
return rb_funcall3(recv, sym[32] /* + */, 1, &arg_0);
}
static VALUE builtinoptop_eqq__1__fallback(VALUE recv, VALUE arg_0) {
return rb_funcall3(recv, sym[42] /* === */, 1, &arg_0);
}
static VALUE builtinoptop_mul__1__fallback(VALUE recv, VALUE arg_0) {
return rb_funcall3(recv, sym[31] /* * */, 1, &arg_0);
}
static void init_builtinopt() {
builtinopt_method_tbl[0] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[30] /* - */, 1);
builtinopt_method_tbl[1] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[30] /* - */, 1);
builtinopt_method_tbl[2] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[30] /* - */, 1);
builtinopt_method_tbl[3] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[30] /* - */, 1);
builtinopt_method_tbl[4] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[31] /* * */, 1);
builtinopt_method_tbl[5] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[31] /* * */, 1);
builtinopt_method_tbl[6] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[31] /* * */, 1);
builtinopt_method_tbl[7] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[31] /* * */, 1);
builtinopt_method_tbl[8] = builtinopt_method_lookup(rb_cString, rb_cString, sym[31] /* * */, 1);
builtinopt_method_tbl[9] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[32] /* + */, 1);
builtinopt_method_tbl[10] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[32] /* + */, 1);
builtinopt_method_tbl[11] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[32] /* + */, 1);
builtinopt_method_tbl[12] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[32] /* + */, 1);
builtinopt_method_tbl[13] = builtinopt_method_lookup(rb_cString, rb_cString, sym[32] /* + */, 1);
builtinopt_method_tbl[14] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[33] /* == */, 1);
builtinopt_method_tbl[15] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[33] /* == */, 1);
builtinopt_method_tbl[16] = builtinopt_method_lookup(rb_cFalseClass, rb_mKernel, sym[33] /* == */, 1);
builtinopt_method_tbl[17] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[33] /* == */, 1);
builtinopt_method_tbl[18] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[33] /* == */, 1);
builtinopt_method_tbl[19] = builtinopt_method_lookup(rb_cHash, rb_cHash, sym[33] /* == */, 1);
builtinopt_method_tbl[20] = builtinopt_method_lookup(rb_cNilClass, rb_mKernel, sym[33] /* == */, 1);
builtinopt_method_tbl[21] = builtinopt_method_lookup(rb_cRegexp, rb_cRegexp, sym[33] /* == */, 1);
builtinopt_method_tbl[22] = builtinopt_method_lookup(rb_cString, rb_cString, sym[33] /* == */, 1);
builtinopt_method_tbl[23] = builtinopt_method_lookup(rb_cSymbol, rb_mKernel, sym[33] /* == */, 1);
builtinopt_method_tbl[24] = builtinopt_method_lookup(rb_cTrueClass, rb_mKernel, sym[33] /* == */, 1);
builtinopt_method_tbl[25] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[34] /* / */, 1);
builtinopt_method_tbl[26] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[34] /* / */, 1);
builtinopt_method_tbl[27] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[34] /* / */, 1);
builtinopt_method_tbl[28] = builtinopt_method_lookup(rb_cBignum, rb_mComparable, sym[35] /* > */, 1);
builtinopt_method_tbl[29] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[35] /* > */, 1);
builtinopt_method_tbl[30] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[35] /* > */, 1);
builtinopt_method_tbl[31] = builtinopt_method_lookup(rb_cString, rb_mComparable, sym[35] /* > */, 1);
builtinopt_method_tbl[32] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[36] /* __ */, -1);
builtinopt_method_tbl[33] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[36] /* __ */, 1);
builtinopt_method_tbl[34] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[36] /* __ */, 1);
builtinopt_method_tbl[35] = builtinopt_method_lookup(rb_cHash, rb_cHash, sym[36] /* __ */, 1);
builtinopt_method_tbl[36] = builtinopt_method_lookup(rb_cString, rb_cString, sym[36] /* __ */, -1);
builtinopt_method_tbl[37] = builtinopt_method_lookup(rb_cBignum, rb_mComparable, sym[37] /* < */, 1);
builtinopt_method_tbl[38] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[37] /* < */, 1);
builtinopt_method_tbl[39] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[37] /* < */, 1);
builtinopt_method_tbl[40] = builtinopt_method_lookup(rb_cString, rb_mComparable, sym[37] /* < */, 1);
builtinopt_method_tbl[41] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[38] /* to_s */, 0);
builtinopt_method_tbl[42] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[38] /* to_s */, -1);
builtinopt_method_tbl[43] = builtinopt_method_lookup(rb_cFalseClass, rb_cFalseClass, sym[38] /* to_s */, 0);
builtinopt_method_tbl[44] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[38] /* to_s */, -1);
builtinopt_method_tbl[45] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[38] /* to_s */, 0);
builtinopt_method_tbl[46] = builtinopt_method_lookup(rb_cHash, rb_cHash, sym[38] /* to_s */, 0);
builtinopt_method_tbl[47] = builtinopt_method_lookup(rb_cNilClass, rb_cNilClass, sym[38] /* to_s */, 0);
builtinopt_method_tbl[48] = builtinopt_method_lookup(rb_cRegexp, rb_cRegexp, sym[38] /* to_s */, 0);
builtinopt_method_tbl[49] = builtinopt_method_lookup(rb_cString, rb_cString, sym[38] /* to_s */, 0);
builtinopt_method_tbl[50] = builtinopt_method_lookup(rb_cSymbol, rb_cSymbol, sym[38] /* to_s */, 0);
builtinopt_method_tbl[51] = builtinopt_method_lookup(rb_cTrueClass, rb_cTrueClass, sym[38] /* to_s */, 0);
builtinopt_method_tbl[52] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[39] /* include? */, 1);
if (!(builtinopt_method_tbl[52])) builtinopt_method_tbl[52] = builtinoptmeth_include__pred__1__fallback;
builtinopt_method_tbl[53] = builtinopt_method_lookup(rb_cArray, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[54] = builtinopt_method_lookup(rb_cBignum, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[55] = builtinopt_method_lookup(rb_cFalseClass, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[56] = builtinopt_method_lookup(rb_cFixnum, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[57] = builtinopt_method_lookup(rb_cFloat, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[58] = builtinopt_method_lookup(rb_cHash, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[59] = builtinopt_method_lookup(rb_cNilClass, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[60] = builtinopt_method_lookup(rb_cRegexp, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[61] = builtinopt_method_lookup(rb_cString, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[62] = builtinopt_method_lookup(rb_cSymbol, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[63] = builtinopt_method_lookup(rb_cTrueClass, rb_mKernel, sym[41] /* instance_variable_get */, 1);
builtinopt_method_tbl[64] = builtinopt_method_lookup(rb_cString, rb_cString, sym[32] /* + */, 1);
if (!(builtinopt_method_tbl[64])) builtinopt_method_tbl[64] = builtinoptop_plus__1__fallback;
builtinopt_method_tbl[65] = builtinopt_method_lookup(rb_cArray, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[66] = builtinopt_method_lookup(rb_cBignum, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[67] = builtinopt_method_lookup(rb_cFalseClass, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[68] = builtinopt_method_lookup(rb_cFixnum, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[69] = builtinopt_method_lookup(rb_cFloat, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[70] = builtinopt_method_lookup(rb_cHash, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[71] = builtinopt_method_lookup(rb_cNilClass, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[72] = builtinopt_method_lookup(rb_cRegexp, rb_cRegexp, sym[42] /* === */, 1);
builtinopt_method_tbl[73] = builtinopt_method_lookup(rb_cString, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[74] = builtinopt_method_lookup(rb_cSymbol, rb_cSymbol, sym[42] /* === */, 1);
builtinopt_method_tbl[75] = builtinopt_method_lookup(rb_cTrueClass, rb_mKernel, sym[42] /* === */, 1);
builtinopt_method_tbl[76] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[59] /* to_f */, 0);
builtinopt_method_tbl[77] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[59] /* to_f */, 0);
builtinopt_method_tbl[78] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[59] /* to_f */, 0);
builtinopt_method_tbl[79] = builtinopt_method_lookup(rb_cNilClass, rb_cNilClass, sym[59] /* to_f */, 0);
builtinopt_method_tbl[80] = builtinopt_method_lookup(rb_cString, rb_cString, sym[59] /* to_f */, 0);
builtinopt_method_tbl[81] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[66] /* -@ */, 0);
builtinopt_method_tbl[82] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[66] /* -@ */, 0);
builtinopt_method_tbl[83] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[66] /* -@ */, 0);
builtinopt_method_tbl[84] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[32] /* + */, 1);
if (!(builtinopt_method_tbl[84])) builtinopt_method_tbl[84] = builtinoptop_plus__1__fallback;
builtinopt_method_tbl[85] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[73] /* ** */, 1);
builtinopt_method_tbl[86] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[73] /* ** */, 1);
builtinopt_method_tbl[87] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[73] /* ** */, 1);
builtinopt_method_tbl[88] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[87] /* << */, 1);
builtinopt_method_tbl[89] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[87] /* << */, 1);
builtinopt_method_tbl[90] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[87] /* << */, 1);
builtinopt_method_tbl[91] = builtinopt_method_lookup(rb_cString, rb_cString, sym[87] /* << */, 1);
builtinopt_method_tbl[92] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[90] /* inspect */, 0);
builtinopt_method_tbl[93] = builtinopt_method_lookup(rb_cBignum, rb_mKernel, sym[90] /* inspect */, 0);
builtinopt_method_tbl[94] = builtinopt_method_lookup(rb_cFalseClass, rb_mKernel, sym[90] /* inspect */, 0);
builtinopt_method_tbl[95] = builtinopt_method_lookup(rb_cFixnum, rb_mKernel, sym[90] /* inspect */, 0);
builtinopt_method_tbl[96] = builtinopt_method_lookup(rb_cFloat, rb_mKernel, sym[90] /* inspect */, 0);
builtinopt_method_tbl[97] = builtinopt_method_lookup(rb_cHash, rb_cHash, sym[90] /* inspect */, 0);
builtinopt_method_tbl[98] = builtinopt_method_lookup(rb_cNilClass, rb_cNilClass, sym[90] /* inspect */, 0);
builtinopt_method_tbl[99] = builtinopt_method_lookup(rb_cRegexp, rb_cRegexp, sym[90] /* inspect */, 0);
builtinopt_method_tbl[100] = builtinopt_method_lookup(rb_cString, rb_cString, sym[90] /* inspect */, 0);
builtinopt_method_tbl[101] = builtinopt_method_lookup(rb_cSymbol, rb_cSymbol, sym[90] /* inspect */, 0);
builtinopt_method_tbl[102] = builtinopt_method_lookup(rb_cTrueClass, rb_mKernel, sym[90] /* inspect */, 0);
builtinopt_method_tbl[103] = builtinopt_method_lookup(rb_cBignum, rb_cInteger, sym[100] /* to_i */, 0);
builtinopt_method_tbl[104] = builtinopt_method_lookup(rb_cFixnum, rb_cInteger, sym[100] /* to_i */, 0);
builtinopt_method_tbl[105] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[100] /* to_i */, 0);
builtinopt_method_tbl[106] = builtinopt_method_lookup(rb_cNilClass, rb_cNilClass, sym[100] /* to_i */, 0);
builtinopt_method_tbl[107] = builtinopt_method_lookup(rb_cString, rb_cString, sym[100] /* to_i */, -1);
builtinopt_method_tbl[108] = builtinopt_method_lookup(rb_cSymbol, rb_cSymbol, sym[100] /* to_i */, 0);
builtinopt_method_tbl[109] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[103] /* to_sym */, 0);
builtinopt_method_tbl[110] = builtinopt_method_lookup(rb_cString, rb_cString, sym[103] /* to_sym */, 0);
builtinopt_method_tbl[111] = builtinopt_method_lookup(rb_cSymbol, rb_cSymbol, sym[103] /* to_sym */, 0);
builtinopt_method_tbl[112] = builtinopt_method_lookup(rb_cString, rb_cString, sym[117] /* upcase */, 0);
builtinopt_method_tbl[113] = builtinopt_method_lookup(rb_cString, rb_cString, sym[120] /* split */, -1);
builtinopt_method_tbl[114] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[121] /* shift */, 0);
builtinopt_method_tbl[115] = builtinopt_method_lookup(rb_cHash, rb_cHash, sym[121] /* shift */, 0);
builtinopt_method_tbl[116] = builtinopt_method_lookup(rb_cArray, rb_cArray, sym[39] /* include? */, 1);
builtinopt_method_tbl[117] = builtinopt_method_lookup(rb_cHash, rb_cHash, sym[39] /* include? */, 1);
builtinopt_method_tbl[118] = builtinopt_method_lookup(rb_cString, rb_cString, sym[39] /* include? */, 1);
builtinopt_method_tbl[119] = builtinopt_method_lookup(rb_cRegexp, rb_cRegexp, sym[42] /* === */, 1);
if (!(builtinopt_method_tbl[119])) builtinopt_method_tbl[119] = builtinoptop_eqq__1__fallback;
builtinopt_method_tbl[120] = builtinopt_method_lookup(rb_cArray, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[121] = builtinopt_method_lookup(rb_cBignum, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[122] = builtinopt_method_lookup(rb_cFalseClass, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[123] = builtinopt_method_lookup(rb_cFixnum, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[124] = builtinopt_method_lookup(rb_cFloat, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[125] = builtinopt_method_lookup(rb_cHash, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[126] = builtinopt_method_lookup(rb_cNilClass, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[127] = builtinopt_method_lookup(rb_cRegexp, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[128] = builtinopt_method_lookup(rb_cString, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[129] = builtinopt_method_lookup(rb_cSymbol, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[130] = builtinopt_method_lookup(rb_cTrueClass, rb_mKernel, sym[138] /* dup */, 0);
builtinopt_method_tbl[131] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[146] /* abs */, 0);
builtinopt_method_tbl[132] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[146] /* abs */, 0);
builtinopt_method_tbl[133] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[146] /* abs */, 0);
builtinopt_method_tbl[134] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[31] /* * */, 1);
if (!(builtinopt_method_tbl[134])) builtinopt_method_tbl[134] = builtinoptop_mul__1__fallback;
builtinopt_method_tbl[135] = builtinopt_method_lookup(rb_cBignum, rb_mComparable, sym[149] /* >= */, 1);
builtinopt_method_tbl[136] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[149] /* >= */, 1);
builtinopt_method_tbl[137] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[149] /* >= */, 1);
builtinopt_method_tbl[138] = builtinopt_method_lookup(rb_cString, rb_mComparable, sym[149] /* >= */, 1);
builtinopt_method_tbl[139] = builtinopt_method_lookup(rb_cBignum, rb_cBignum, sym[158] /* _ */, 1);
builtinopt_method_tbl[140] = builtinopt_method_lookup(rb_cFixnum, rb_cFixnum, sym[158] /* _ */, 1);
builtinopt_method_tbl[141] = builtinopt_method_lookup(rb_cFloat, rb_cFloat, sym[158] /* _ */, 1);
builtinopt_method_tbl[142] = builtinopt_method_lookup(rb_cString, rb_cString, sym[158] /* _ */, 1);
builtinopt_method_tbl[143] = builtinopt_method_lookup(rb_cSymbol, rb_cSymbol, sym[42] /* === */, 1);
if (!(builtinopt_method_tbl[143])) builtinopt_method_tbl[143] = builtinoptop_eqq__1__fallback;
}
static VALUE builtinoptop_minus__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[0] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[0]))(recv, argv[0]);
break;
case T_BIGNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[1] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[1]))(recv, argv[0]);
}
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
if (builtinopt_method_tbl[2]) return (*(builtinopt_method_tbl[2]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[3] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[3]))(recv, argv[0]);
}
break;
}
return rb_funcall3(recv, sym[30] /* - */, 1, argv);
}
static VALUE builtinoptop_mul__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[4] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[4]))(recv, argv[0]);
break;
case T_BIGNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[5] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[5]))(recv, argv[0]);
}
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
if (builtinopt_method_tbl[6]) return (*(builtinopt_method_tbl[6]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[7] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[7]))(recv, argv[0]);
}
break;
case T_STRING:
if (builtinopt_method_tbl[8] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[8]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
static VALUE builtinoptop_plus__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[9] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[9]))(recv, argv[0]);
break;
case T_BIGNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[10] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[10]))(recv, argv[0]);
}
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
if (builtinopt_method_tbl[11]) return (*(builtinopt_method_tbl[11]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[12] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[12]))(recv, argv[0]);
}
break;
case T_STRING:
if (builtinopt_method_tbl[13] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[13]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[32] /* + */, 1, argv);
}
static VALUE builtinoptop_equal__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[14] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[14]))(recv, argv[0]);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[15] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[15]))(recv, argv[0]);
break;
case T_FALSE:
if (builtinopt_method_tbl[16]) return (*(builtinopt_method_tbl[16]))(recv, argv[0]);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[17]) return (*(builtinopt_method_tbl[17]))(recv, argv[0]);
break;
case T_FLOAT:
if (builtinopt_method_tbl[18] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[18]))(recv, argv[0]);
break;
case T_HASH:
if (builtinopt_method_tbl[19] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[19]))(recv, argv[0]);
break;
case T_NIL:
if (builtinopt_method_tbl[20]) return (*(builtinopt_method_tbl[20]))(recv, argv[0]);
break;
case T_REGEXP:
if (builtinopt_method_tbl[21] && RBASIC(recv)->klass == rb_cRegexp) return (*(builtinopt_method_tbl[21]))(recv, argv[0]);
break;
case T_STRING:
if (builtinopt_method_tbl[22] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[22]))(recv, argv[0]);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[23]) return (*(builtinopt_method_tbl[23]))(recv, argv[0]);
break;
case T_TRUE:
if (builtinopt_method_tbl[24]) return (*(builtinopt_method_tbl[24]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[33] /* == */, 1, argv);
}
static VALUE builtinoptop_div__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_BIGNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[25] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[25]))(recv, argv[0]);
}
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
if (builtinopt_method_tbl[26]) return (*(builtinopt_method_tbl[26]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[27] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[27]))(recv, argv[0]);
}
break;
}
return rb_funcall3(recv, sym[34] /* / */, 1, argv);
}
static VALUE builtinoptop_gt__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[28] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[28]))(recv, argv[0]);
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
if (builtinopt_method_tbl[29]) return (*(builtinopt_method_tbl[29]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[30] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[30]))(recv, argv[0]);
}
break;
case T_STRING:
if (builtinopt_method_tbl[31] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[31]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[35] /* > */, 1, argv);
}
static VALUE builtinoptop_aref__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[32] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[32]))(1, argv, recv);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[33] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[33]))(recv, argv[0]);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[34]) return (*(builtinopt_method_tbl[34]))(recv, argv[0]);
break;
case T_HASH:
if (builtinopt_method_tbl[35] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[35]))(recv, argv[0]);
break;
case T_STRING:
if (builtinopt_method_tbl[36] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[36]))(1, argv, recv);
break;
}
return rb_funcall3(recv, sym[36] /* __ */, 1, argv);
}
static VALUE builtinoptop_lt__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[37] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[37]))(recv, argv[0]);
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
if (builtinopt_method_tbl[38]) return (*(builtinopt_method_tbl[38]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[39] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[39]))(recv, argv[0]);
}
break;
case T_STRING:
if (builtinopt_method_tbl[40] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[40]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[37] /* < */, 1, argv);
}
static VALUE builtinoptmeth_to_s__0(VALUE recv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[41] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[41]))(recv);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[42] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[42]))(0, NULL, recv);
break;
case T_FALSE:
if (builtinopt_method_tbl[43]) return (*(builtinopt_method_tbl[43]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[44]) return (*(builtinopt_method_tbl[44]))(0, NULL, recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[45] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[45]))(recv);
break;
case T_HASH:
if (builtinopt_method_tbl[46] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[46]))(recv);
break;
case T_NIL:
if (builtinopt_method_tbl[47]) return (*(builtinopt_method_tbl[47]))(recv);
break;
case T_REGEXP:
if (builtinopt_method_tbl[48] && RBASIC(recv)->klass == rb_cRegexp) return (*(builtinopt_method_tbl[48]))(recv);
break;
case T_STRING:
if (builtinopt_method_tbl[49] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[49]))(recv);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[50]) return (*(builtinopt_method_tbl[50]))(recv);
break;
case T_TRUE:
if (builtinopt_method_tbl[51]) return (*(builtinopt_method_tbl[51]))(recv);
break;
}
return rb_funcall3(recv, sym[38] /* to_s */, 0, NULL);
}
static VALUE builtinoptmeth_instance_variable_get__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[53] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[53]))(recv, argv[0]);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[54] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[54]))(recv, argv[0]);
break;
case T_FALSE:
if (builtinopt_method_tbl[55]) return (*(builtinopt_method_tbl[55]))(recv, argv[0]);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[56]) return (*(builtinopt_method_tbl[56]))(recv, argv[0]);
break;
case T_FLOAT:
if (builtinopt_method_tbl[57] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[57]))(recv, argv[0]);
break;
case T_HASH:
if (builtinopt_method_tbl[58] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[58]))(recv, argv[0]);
break;
case T_NIL:
if (builtinopt_method_tbl[59]) return (*(builtinopt_method_tbl[59]))(recv, argv[0]);
break;
case T_REGEXP:
if (builtinopt_method_tbl[60] && RBASIC(recv)->klass == rb_cRegexp) return (*(builtinopt_method_tbl[60]))(recv, argv[0]);
break;
case T_STRING:
if (builtinopt_method_tbl[61] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[61]))(recv, argv[0]);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[62]) return (*(builtinopt_method_tbl[62]))(recv, argv[0]);
break;
case T_TRUE:
if (builtinopt_method_tbl[63]) return (*(builtinopt_method_tbl[63]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[41] /* instance_variable_get */, 1, argv);
}
static VALUE builtinoptop_eqq__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[65] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[65]))(recv, argv[0]);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[66] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[66]))(recv, argv[0]);
break;
case T_FALSE:
if (builtinopt_method_tbl[67]) return (*(builtinopt_method_tbl[67]))(recv, argv[0]);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[68]) return (*(builtinopt_method_tbl[68]))(recv, argv[0]);
break;
case T_FLOAT:
if (builtinopt_method_tbl[69] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[69]))(recv, argv[0]);
break;
case T_HASH:
if (builtinopt_method_tbl[70] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[70]))(recv, argv[0]);
break;
case T_NIL:
if (builtinopt_method_tbl[71]) return (*(builtinopt_method_tbl[71]))(recv, argv[0]);
break;
case T_REGEXP:
if (builtinopt_method_tbl[72] && RBASIC(recv)->klass == rb_cRegexp) return (*(builtinopt_method_tbl[72]))(recv, argv[0]);
break;
case T_STRING:
if (builtinopt_method_tbl[73] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[73]))(recv, argv[0]);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[74]) return (*(builtinopt_method_tbl[74]))(recv, argv[0]);
break;
case T_TRUE:
if (builtinopt_method_tbl[75]) return (*(builtinopt_method_tbl[75]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[42] /* === */, 1, argv);
}
static VALUE builtinoptmeth_to_f__0(VALUE recv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[76] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[76]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[77]) return (*(builtinopt_method_tbl[77]))(recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[78] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[78]))(recv);
break;
case T_NIL:
if (builtinopt_method_tbl[79]) return (*(builtinopt_method_tbl[79]))(recv);
break;
case T_STRING:
if (builtinopt_method_tbl[80] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[80]))(recv);
break;
}
return rb_funcall3(recv, sym[59] /* to_f */, 0, NULL);
}
static VALUE builtinoptop_uminus__0(VALUE recv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[81] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[81]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[82]) return (*(builtinopt_method_tbl[82]))(recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[83] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[83]))(recv);
break;
}
return rb_funcall3(recv, sym[66] /* -@ */, 0, NULL);
}
static VALUE builtinoptop_pow__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_BIGNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[85] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[85]))(recv, argv[0]);
}
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
if (builtinopt_method_tbl[86]) return (*(builtinopt_method_tbl[86]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[87] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[87]))(recv, argv[0]);
}
break;
}
return rb_funcall3(recv, sym[73] /* ** */, 1, argv);
}
static VALUE builtinoptop_lshift__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[88] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[88]))(recv, argv[0]);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[89] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[89]))(recv, argv[0]);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[90]) return (*(builtinopt_method_tbl[90]))(recv, argv[0]);
break;
case T_STRING:
if (builtinopt_method_tbl[91] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[91]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[87] /* << */, 1, argv);
}
static VALUE builtinoptmeth_inspect__0(VALUE recv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[92] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[92]))(recv);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[93] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[93]))(recv);
break;
case T_FALSE:
if (builtinopt_method_tbl[94]) return (*(builtinopt_method_tbl[94]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[95]) return (*(builtinopt_method_tbl[95]))(recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[96] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[96]))(recv);
break;
case T_HASH:
if (builtinopt_method_tbl[97] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[97]))(recv);
break;
case T_NIL:
if (builtinopt_method_tbl[98]) return (*(builtinopt_method_tbl[98]))(recv);
break;
case T_REGEXP:
if (builtinopt_method_tbl[99] && RBASIC(recv)->klass == rb_cRegexp) return (*(builtinopt_method_tbl[99]))(recv);
break;
case T_STRING:
if (builtinopt_method_tbl[100] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[100]))(recv);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[101]) return (*(builtinopt_method_tbl[101]))(recv);
break;
case T_TRUE:
if (builtinopt_method_tbl[102]) return (*(builtinopt_method_tbl[102]))(recv);
break;
}
return rb_funcall3(recv, sym[90] /* inspect */, 0, NULL);
}
static VALUE builtinoptmeth_to_i__0(VALUE recv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[103] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[103]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[104]) return (*(builtinopt_method_tbl[104]))(recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[105] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[105]))(recv);
break;
case T_NIL:
if (builtinopt_method_tbl[106]) return (*(builtinopt_method_tbl[106]))(recv);
break;
case T_STRING:
if (builtinopt_method_tbl[107] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[107]))(0, NULL, recv);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[108]) return (*(builtinopt_method_tbl[108]))(recv);
break;
}
return rb_funcall3(recv, sym[100] /* to_i */, 0, NULL);
}
static VALUE builtinoptmeth_to_sym__0(VALUE recv) {
switch(TYPE(recv)) {
case T_FIXNUM:
if (builtinopt_method_tbl[109]) return (*(builtinopt_method_tbl[109]))(recv);
break;
case T_STRING:
if (builtinopt_method_tbl[110] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[110]))(recv);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[111]) return (*(builtinopt_method_tbl[111]))(recv);
break;
}
return rb_funcall3(recv, sym[103] /* to_sym */, 0, NULL);
}
static VALUE builtinoptmeth_upcase__0(VALUE recv) {
switch(TYPE(recv)) {
case T_STRING:
if (builtinopt_method_tbl[112] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[112]))(recv);
break;
}
return rb_funcall3(recv, sym[117] /* upcase */, 0, NULL);
}
static VALUE builtinoptmeth_split__0(VALUE recv) {
switch(TYPE(recv)) {
case T_STRING:
if (builtinopt_method_tbl[113] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[113]))(0, NULL, recv);
break;
}
return rb_funcall3(recv, sym[120] /* split */, 0, NULL);
}
static VALUE builtinoptmeth_shift__0(VALUE recv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[114] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[114]))(recv);
break;
case T_HASH:
if (builtinopt_method_tbl[115] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[115]))(recv);
break;
}
return rb_funcall3(recv, sym[121] /* shift */, 0, NULL);
}
static VALUE builtinoptmeth_include__pred__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[116] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[116]))(recv, argv[0]);
break;
case T_HASH:
if (builtinopt_method_tbl[117] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[117]))(recv, argv[0]);
break;
case T_STRING:
if (builtinopt_method_tbl[118] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[118]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[39] /* include? */, 1, argv);
}
static VALUE builtinoptmeth_dup__0(VALUE recv) {
switch(TYPE(recv)) {
case T_ARRAY:
if (builtinopt_method_tbl[120] && RBASIC(recv)->klass == rb_cArray) return (*(builtinopt_method_tbl[120]))(recv);
break;
case T_BIGNUM:
if (builtinopt_method_tbl[121] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[121]))(recv);
break;
case T_FALSE:
if (builtinopt_method_tbl[122]) return (*(builtinopt_method_tbl[122]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[123]) return (*(builtinopt_method_tbl[123]))(recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[124] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[124]))(recv);
break;
case T_HASH:
if (builtinopt_method_tbl[125] && RBASIC(recv)->klass == rb_cHash) return (*(builtinopt_method_tbl[125]))(recv);
break;
case T_NIL:
if (builtinopt_method_tbl[126]) return (*(builtinopt_method_tbl[126]))(recv);
break;
case T_REGEXP:
if (builtinopt_method_tbl[127] && RBASIC(recv)->klass == rb_cRegexp) return (*(builtinopt_method_tbl[127]))(recv);
break;
case T_STRING:
if (builtinopt_method_tbl[128] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[128]))(recv);
break;
case T_SYMBOL:
if (builtinopt_method_tbl[129]) return (*(builtinopt_method_tbl[129]))(recv);
break;
case T_TRUE:
if (builtinopt_method_tbl[130]) return (*(builtinopt_method_tbl[130]))(recv);
break;
}
return rb_funcall3(recv, sym[138] /* dup */, 0, NULL);
}
static VALUE builtinoptmeth_abs__0(VALUE recv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[131] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[131]))(recv);
break;
case T_FIXNUM:
if (builtinopt_method_tbl[132]) return (*(builtinopt_method_tbl[132]))(recv);
break;
case T_FLOAT:
if (builtinopt_method_tbl[133] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[133]))(recv);
break;
}
return rb_funcall3(recv, sym[146] /* abs */, 0, NULL);
}
static VALUE builtinoptop_ge__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_BIGNUM:
if (builtinopt_method_tbl[135] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[135]))(recv, argv[0]);
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
if (builtinopt_method_tbl[136]) return (*(builtinopt_method_tbl[136]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[137] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[137]))(recv, argv[0]);
}
break;
case T_STRING:
if (builtinopt_method_tbl[138] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[138]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[149] /* >= */, 1, argv);
}
static VALUE builtinoptop_mod__1(VALUE recv, VALUE *argv) {
switch(TYPE(recv)) {
case T_BIGNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
if (builtinopt_method_tbl[139] && RBASIC(recv)->klass == rb_cBignum) return (*(builtinopt_method_tbl[139]))(recv, argv[0]);
}
break;
case T_FIXNUM:
switch(TYPE(argv[0])) {
case T_FIXNUM:
if (builtinopt_method_tbl[140]) return (*(builtinopt_method_tbl[140]))(recv, argv[0]);
}
break;
case T_FLOAT:
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_BIGNUM:
case T_FLOAT:
if (builtinopt_method_tbl[141] && RBASIC(recv)->klass == rb_cFloat) return (*(builtinopt_method_tbl[141]))(recv, argv[0]);
}
break;
case T_STRING:
if (builtinopt_method_tbl[142] && RBASIC(recv)->klass == rb_cString) return (*(builtinopt_method_tbl[142]))(recv, argv[0]);
break;
}
return rb_funcall3(recv, sym[158] /* _ */, 1, argv);
}
static VALUE method_1(int meth_argc, VALUE *meth_argv, VALUE self) {
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* cvar */
return rb_cvar_get(cvar_cbase((RNODE(global[0]))), sym[1] /* @@version */);
}
static VALUE method_2(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[3];
rb_mem_clear(lvar, 3);
if (meth_argc > 3) wrong_arg_num(meth_argc, 3);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* lit */
(lvar[0] = global[1]);
}
if (meth_argc > 1) {
lvar[1] = meth_argv[1];
}
else {
/* lasgn */
/* lit */
(lvar[1] = global[1]);
}
if (meth_argc > 2) {
lvar[2] = meth_argv[2];
}
else {
/* lasgn */
/* lit */
(lvar[2] = global[1]);
}
/* block */
/* iasgn */
/* lit */
res = LONG2FIX(0);
rb_ivar_set(self, sym[17] /* @saturation */, res);
/* iasgn */
/* false */
res = Qfalse;
rb_ivar_set(self, sym[18] /* @saturate */, res);
/* iasgn */
/* lit */
res = LONG2FIX(0);
rb_ivar_set(self, sym[19] /* @kp */, res);
/* iasgn */
/* lit */
res = LONG2FIX(0);
rb_ivar_set(self, sym[20] /* @ki */, res);
/* iasgn */
/* lit */
res = LONG2FIX(0);
rb_ivar_set(self, sym[21] /* @kd */, res);
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* lvar */
argv[0] = lvar[0];
/* lvar */
argv[1] = lvar[1];
/* lvar */
argv[2] = lvar[2];
res = rb_funcall2(recv, sym[22] /* reset */, argc, argv);
}
return res;
}
static VALUE method_3(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[3];
rb_mem_clear(lvar, 3);
if (meth_argc > 3) wrong_arg_num(meth_argc, 3);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* lit */
(lvar[0] = global[1]);
}
if (meth_argc > 1) {
lvar[1] = meth_argv[1];
}
else {
/* lasgn */
/* lit */
(lvar[1] = global[1]);
}
if (meth_argc > 2) {
lvar[2] = meth_argv[2];
}
else {
/* lasgn */
/* lit */
(lvar[2] = global[1]);
}
/* block */
/* iasgn */
/* lvar */
res = lvar[0];
rb_ivar_set(self, sym[19] /* @kp */, res);
/* iasgn */
/* lvar */
res = lvar[1];
rb_ivar_set(self, sym[20] /* @ki */, res);
/* iasgn */
/* lvar */
res = lvar[2];
rb_ivar_set(self, sym[21] /* @kd */, res);
/* iasgn */
/* iasgn */
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[23] /* @d */, res);
rb_ivar_set(self, sym[24] /* @i */, res);
rb_ivar_set(self, sym[25] /* @p */, res);
/* iasgn */
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[26] /* @actual */, res);
rb_ivar_set(self, sym[27] /* @set_point */, res);
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[28] /* @error */, res);
return res;
}
static VALUE method_4(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[4];
rb_mem_clear(lvar, 4);
if (meth_argc < 1) wrong_arg_num(meth_argc, 1);
if (meth_argc > 2) wrong_arg_num(meth_argc, 2);
lvar[0] = meth_argv[0];
if (meth_argc > 1) {
lvar[1] = meth_argv[1];
}
else {
/* lasgn */
/* nil */
(lvar[1] = Qnil);
}
/* block */
/* iasgn */
/* lvar */
res = lvar[1];
rb_ivar_set(self, sym[29] /* @gain_par */, res);
/* lasgn */
/* ivar */
(lvar[2] = rb_ivar_get(self, sym[28] /* @error */));
/* iasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[27] /* @set_point */);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[26] /* @actual */);
res = builtinoptop_minus__1(recv, argv);
}
rb_ivar_set(self, sym[28] /* @error */, res);
/* iasgn */
/* call */
/* vcall */
{
VALUE recv = rb_funcall2(self, sym[13] /* kp */, 0, 0);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[28] /* @error */);
res = builtinoptop_mul__1(recv, argv);
}
rb_ivar_set(self, sym[25] /* @p */, res);
/* iasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[24] /* @i */);
VALUE argv[1];
/* call */
/* call */
/* vcall */
{
VALUE recv = rb_funcall2(self, sym[14] /* ki */, 0, 0);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[28] /* @error */);
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
rb_ivar_set(self, sym[24] /* @i */, res);
/* iasgn */
/* if */
/* not */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_equal__1(recv, argv);
}
if (RTEST((RTEST(res) ? Qfalse : Qtrue))) {
/* call */
/* call */
/* vcall */
{
VALUE recv = rb_funcall2(self, sym[15] /* kd */, 0, 0);
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[28] /* @error */);
VALUE argv[1];
/* lvar */
argv[0] = lvar[2];
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_div__1(recv, argv);
}
}
else {
/* lit */
res = global[2];
}
rb_ivar_set(self, sym[23] /* @d */, res);
/* lasgn */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[25] /* @p */);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[24] /* @i */);
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[23] /* @d */);
res = builtinoptop_plus__1(recv, argv);
}
(lvar[3] = res);
/* iasgn */
/* false */
res = Qfalse;
rb_ivar_set(self, sym[18] /* @saturate */, res);
/* if */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_equal__1(recv, argv);
}
if (RTEST(res)) {
res = Qnil;
}
else {
/* block */
/* if */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_gt__1(recv, argv);
}
if (RTEST(res)) {
/* block */
/* iasgn */
/* true */
res = Qtrue;
rb_ivar_set(self, sym[18] /* @saturate */, res);
/* iasgn */
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[25] /* @p */);
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[23] /* @d */);
res = builtinoptop_minus__1(recv, argv);
}
rb_ivar_set(self, sym[24] /* @i */, res);
/* if */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[24] /* @i */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_lt__1(recv, argv);
}
if (RTEST(res)) {
/* iasgn */
/* lit */
res = LONG2FIX(0);
rb_ivar_set(self, sym[24] /* @i */, res);
}
else {
res = Qnil;
}
}
else {
res = Qnil;
}
/* if */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lt__1(recv, argv);
}
if (RTEST(res)) {
/* block */
/* iasgn */
/* true */
res = Qtrue;
rb_ivar_set(self, sym[18] /* @saturate */, res);
/* iasgn */
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[25] /* @p */);
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[23] /* @d */);
res = builtinoptop_minus__1(recv, argv);
}
rb_ivar_set(self, sym[24] /* @i */, res);
/* if */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[24] /* @i */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_gt__1(recv, argv);
}
if (RTEST(res)) {
/* iasgn */
/* lit */
res = LONG2FIX(0);
rb_ivar_set(self, sym[24] /* @i */, res);
}
else {
res = Qnil;
}
}
else {
res = Qnil;
}
/* lasgn */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[25] /* @p */);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[24] /* @i */);
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[23] /* @d */);
res = builtinoptop_plus__1(recv, argv);
}
(lvar[3] = res);
/* if */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_gt__1(recv, argv);
}
if (RTEST(res)) {
/* lasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[3] = res);
}
else {
/* if */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lt__1(recv, argv);
}
if (RTEST(res)) {
/* lasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[17] /* @saturation */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[3] = res);
}
else {
res = Qnil;
}
}
}
/* lvar */
return lvar[3];
}
static VALUE method_5(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[3];
rb_mem_clear(lvar, 3);
if (meth_argc < 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
if (meth_argc > 1) {
lvar[1] = rb_ary_new4(meth_argc-1, meth_argv+1);
}
else {
lvar[1] = rb_ary_new2(0);
}
/* block */
/* lasgn */
/* call */
/* lvar */
(lvar[0] = builtinoptmeth_to_s__0(lvar[0]));
/* if */
/* call */
/* array */
{
VALUE ary = rb_ary_new2(3);
/* str */
RARRAY(ary)->ptr[0] = rb_str_new3(global[3]);
RARRAY(ary)->len = 1;
/* str */
RARRAY(ary)->ptr[1] = rb_str_new3(global[4]);
RARRAY(ary)->len = 2;
/* str */
RARRAY(ary)->ptr[2] = rb_str_new3(global[5]);
RARRAY(ary)->len = 3;
res = ary;
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = (*(builtinopt_method_tbl[52]))(recv, argv[0]);
}
if (RTEST(res)) {
res = Qnil;
}
else {
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[6]);
/* evstr */
/* lvar */
str2 = rb_obj_as_string(lvar[0]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
argv[0] = res;
res = rb_funcall2(recv, sym[40] /* raise */, argc, argv);
}
}
/* lasgn */
/* call */
/* self */
{
VALUE recv = self;
VALUE argv[1];
/* call */
/* str */
{
VALUE recv = rb_str_new3(global[7]);
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = (*(builtinopt_method_tbl[64]))(recv, argv[0]);
}
argv[0] = res;
res = builtinoptmeth_instance_variable_get__1(recv, argv);
}
(lvar[2] = res);
/* case */
{
VALUE case_val;
/* lvar */
case_val = lvar[2];
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[43] /* Numeric */, (RNODE(global[8])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lvar */
res = lvar[2];
}
else {
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[44] /* Proc */, (RNODE(global[8])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* call */
/* lvar */
{
VALUE recv = lvar[2];
const int argc = 1;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[29] /* @gain_par */);
res = rb_funcall3(recv, sym[45] /* call */, argc, argv);
}
}
else {
/* lit */
res = LONG2FIX(0);
}
}
}
}
}
return res;
}
static VALUE class_module_scope_1(VALUE self, NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* cvdecl */
/* lit */
res = LONG2FIX(3);
rb_cvar_set(cvar_cbase(cref), sym[1] /* @@version */, res, Qtrue);
/* defs */
{
VALUE recv;
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[0] /* PID */, cref);
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
recv = res;
defs_allowed(recv, sym[2] /* version */);
if (global[0]) def_only_once(sym[2] /* version */);
global[0] = (VALUE)(cref);
rb_define_singleton_method(recv, "version", method_1, -1);
res = Qnil;
}
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* lit */
argv[0] = ID2SYM(sym[3] /* set_point */);
/* lit */
argv[1] = ID2SYM(sym[4] /* actual */);
/* lit */
argv[2] = ID2SYM(sym[5] /* saturation */);
res = rb_funcall2(recv, sym[6] /* attr_accessor */, argc, argv);
}
/* fcall */
{
VALUE recv = self;
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[7] /* error */);
/* lit */
argv[1] = ID2SYM(sym[8] /* saturate */);
res = rb_funcall2(recv, sym[9] /* attr_reader */, argc, argv);
}
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* lit */
argv[0] = ID2SYM(sym[10] /* p */);
/* lit */
argv[1] = ID2SYM(sym[11] /* i */);
/* lit */
argv[2] = ID2SYM(sym[12] /* d */);
res = rb_funcall2(recv, sym[9] /* attr_reader */, argc, argv);
}
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* lit */
argv[0] = ID2SYM(sym[13] /* kp */);
/* lit */
argv[1] = ID2SYM(sym[14] /* ki */);
/* lit */
argv[2] = ID2SYM(sym[15] /* kd */);
res = rb_funcall2(recv, sym[16] /* attr_writer */, argc, argv);
}
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "initialize", method_2, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "reset", method_3, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "output", method_4, -1);
/* defn */
class_nil_check(s_class);
if (global[8]) def_only_once(sym[46] /* method_missing */);
global[8] = (VALUE)(cref);
rb_define_method(s_class, "method_missing", method_5, -1);
return Qnil;
}
static void toplevel_scope_1(VALUE self, NODE *cref) {
VALUE res;
/* block */
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[0] /* PID */);
res = class_module_scope_1(tmp_class, NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
}
static VALUE method_6(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc > 1) wrong_arg_num(meth_argc, 1);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* hash */
(lvar[0] = rb_hash_new());
}
/* block */
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[56] /* @v_0 */, res);
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[57] /* @x_0 */, res);
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[58] /* @thrust */, res);
/* iasgn */
/* lit */
res = global[2];
rb_ivar_set(self, sym[27] /* @set_point */, res);
/* iasgn */
/* or */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[54] /* force */);
res = builtinoptop_aref__1(recv, argv);
}
res = builtinoptmeth_to_f__0(res);
if (!RTEST(res)) {
/* lit */
res = global[2];
}
rb_ivar_set(self, sym[60] /* @force */, res);
/* iasgn */
/* or */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[55] /* mass */);
res = builtinoptop_aref__1(recv, argv);
}
res = builtinoptmeth_to_f__0(res);
if (!RTEST(res)) {
/* lit */
res = global[9];
}
rb_ivar_set(self, sym[61] /* @mass */, res);
/* iasgn */
/* or */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[62] /* res */);
res = builtinoptop_aref__1(recv, argv);
}
res = builtinoptmeth_to_f__0(res);
if (!RTEST(res)) {
/* lit */
res = global[10];
}
rb_ivar_set(self, sym[63] /* @res */, res);
/* iasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[0] /* PID */, (RNODE(global[11])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 3;
VALUE argv[3];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[10] /* p */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[11] /* i */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[12] /* d */);
res = builtinoptop_aref__1(recv, argv);
}
argv[2] = res;
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
rb_ivar_set(self, sym[65] /* @pid */, res);
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[65] /* @pid */);
const int argc = 1;
VALUE argv[1];
/* array */
{
VALUE ary = rb_ary_new2(2);
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[67] /* max_f */);
res = builtinoptop_aref__1(recv, argv);
}
RARRAY(ary)->ptr[0] = builtinoptop_uminus__0(res);
RARRAY(ary)->len = 1;
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[67] /* max_f */);
res = builtinoptop_aref__1(recv, argv);
}
RARRAY(ary)->ptr[1] = res;
RARRAY(ary)->len = 2;
res = ary;
}
argv[0] = res;
rb_funcall3(recv, sym[68] /* saturation= */, argc, argv);
res = argv[argc - 1];
}
return res;
}
static VALUE method_7(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* iasgn */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[70] /* x */);
res = builtinoptop_aref__1(recv, argv);
}
rb_ivar_set(self, sym[57] /* @x_0 */, res);
/* iasgn */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[71] /* v */);
res = builtinoptop_aref__1(recv, argv);
}
rb_ivar_set(self, sym[56] /* @v_0 */, res);
/* lvar */
return lvar[0];
}
static VALUE method_8(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[3];
rb_mem_clear(lvar, 3);
if (meth_argc > 1) wrong_arg_num(meth_argc, 1);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* lit */
(lvar[0] = LONG2FIX(0));
}
/* block */
/* lasgn */
/* call */
/* call */
/* call */
/* call */
/* call */
/* lit */
{
VALUE recv = LONG2FIX(-1);
VALUE argv[1];
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = builtinoptop_uminus__0(res);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[61] /* @mass */);
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = rb_funcall2(recv, sym[72] /* exp */, argc, argv);
}
argv[0] = res;
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[84]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[32] /* + */, 1, argv);
}
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[61] /* @mass */);
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[58] /* @thrust */);
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[56] /* @v_0 */);
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[58] /* @thrust */);
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[57] /* @x_0 */);
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
(lvar[1] = res);
/* lasgn */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[58] /* @thrust */);
VALUE argv[1];
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = builtinoptop_uminus__0(rb_ivar_get(self, sym[58] /* @thrust */));
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[56] /* @v_0 */);
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[63] /* @res */);
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[61] /* @mass */);
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = rb_funcall2(recv, sym[72] /* exp */, argc, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[63] /* @res */);
res = builtinoptop_div__1(recv, argv);
}
(lvar[2] = res);
/* attrasgn */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* hash */
{
VALUE key, hash = rb_hash_new();
/* lit */
key = ID2SYM(sym[70] /* x */);
/* lvar */
rb_hash_aset(hash, key, lvar[1]);
/* lit */
key = ID2SYM(sym[71] /* v */);
/* lvar */
rb_hash_aset(hash, key, lvar[2]);
res = hash;
}
argv[0] = res;
rb_funcall2(recv, sym[74] /* state= */, argc, argv);
res = argv[argc - 1];
}
return res;
}
static VALUE method_9(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[65] /* @pid */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
rb_funcall3(recv, sym[75] /* set_point= */, argc, argv);
res = argv[argc - 1];
}
return res;
}
static VALUE method_10(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[65] /* @pid */);
const int argc = 1;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[57] /* @x_0 */);
rb_funcall3(recv, sym[76] /* actual= */, argc, argv);
res = argv[argc - 1];
}
/* iasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[65] /* @pid */);
const int argc = 2;
VALUE argv[2];
/* lvar */
argv[0] = lvar[0];
/* ivar */
argv[1] = rb_ivar_get(self, sym[56] /* @v_0 */);
res = rb_funcall3(recv, sym[77] /* output */, argc, argv);
}
rb_ivar_set(self, sym[58] /* @thrust */, res);
/* call */
/* self */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[78] /* state */, argc, argv);
}
return res;
}
static VALUE method_11(int meth_argc, VALUE *meth_argv, VALUE self) {
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* call */
/* ivar */
return rb_funcall3(rb_ivar_get(self, sym[65] /* @pid */), sym[7] /* error */, 0, 0);
}
static VALUE method_12(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[12]);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(rb_funcall3(rb_ivar_get(self, sym[65] /* @pid */), sym[3] /* set_point */, 0, 0));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* ivar */
str2 = rb_obj_as_string(rb_ivar_get(self, sym[57] /* @x_0 */));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* ivar */
str2 = rb_obj_as_string(rb_ivar_get(self, sym[56] /* @v_0 */));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
return res;
}
static VALUE class_module_scope_2(VALUE self, NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[49] /* Math */, cref);
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
argv[0] = res;
res = rb_funcall2(recv, sym[50] /* include */, argc, argv);
}
/* fcall */
{
VALUE recv = self;
const int argc = 5;
VALUE argv[5];
/* lit */
argv[0] = ID2SYM(sym[51] /* v_0 */);
/* lit */
argv[1] = ID2SYM(sym[52] /* x_0 */);
/* lit */
argv[2] = ID2SYM(sym[53] /* thrust */);
/* lit */
argv[3] = ID2SYM(sym[54] /* force */);
/* lit */
argv[4] = ID2SYM(sym[55] /* mass */);
res = rb_funcall2(recv, sym[6] /* attr_accessor */, argc, argv);
}
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[3] /* set_point */);
res = rb_funcall2(recv, sym[6] /* attr_accessor */, argc, argv);
}
/* defn */
class_nil_check(s_class);
if (global[11]) def_only_once(sym[69] /* initialize */);
global[11] = (VALUE)(cref);
rb_define_method(s_class, "initialize", method_6, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "state=", method_7, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "state", method_8, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "go_to", method_9, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "step", method_10, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "error", method_11, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "inspect", method_12, -1);
return Qnil;
}
static VALUE method_13(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* iasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[48] /* Axis */, (RNODE(global[14])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[70] /* x */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
rb_ivar_set(self, sym[80] /* @x */, res);
/* iasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[48] /* Axis */, (RNODE(global[14])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[81] /* y */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
rb_ivar_set(self, sym[82] /* @y */, res);
/* iasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[48] /* Axis */, (RNODE(global[14])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[83] /* z */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
rb_ivar_set(self, sym[84] /* @z */, res);
return res;
}
static VALUE method_14(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[80] /* @x */);
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
rb_funcall3(recv, sym[74] /* state= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[82] /* @y */);
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
rb_funcall3(recv, sym[74] /* state= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[84] /* @z */);
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
rb_funcall3(recv, sym[74] /* state= */, argc, argv);
res = argv[argc - 1];
}
return res;
}
static VALUE method_15(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[2];
rb_mem_clear(lvar, 2);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* lasgn */
/* array */
{
VALUE ary = rb_ary_new2(3);
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[80] /* @x */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[78] /* state */, argc, argv);
}
RARRAY(ary)->ptr[0] = res;
RARRAY(ary)->len = 1;
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[82] /* @y */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[78] /* state */, argc, argv);
}
RARRAY(ary)->ptr[1] = res;
RARRAY(ary)->len = 2;
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[84] /* @z */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[78] /* state */, argc, argv);
}
RARRAY(ary)->ptr[2] = res;
RARRAY(ary)->len = 3;
res = ary;
}
(lvar[1] = res);
/* attrasgn */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
rb_funcall2(recv, sym[85] /* states= */, argc, argv);
res = argv[argc - 1];
}
/* lvar */
return lvar[1];
}
static VALUE method_16(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[80] /* @x */);
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[86] /* go_to */, argc, argv);
}
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[82] /* @y */);
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[86] /* go_to */, argc, argv);
}
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[84] /* @z */);
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[86] /* go_to */, argc, argv);
}
return res;
}
static VALUE method_17(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[2];
rb_mem_clear(lvar, 2);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* lasgn */
/* zarray */
(lvar[1] = rb_ary_new());
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[80] /* @x */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[88] /* step */, argc, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[82] /* @y */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[88] /* step */, argc, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[84] /* @z */);
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_funcall3(recv, sym[88] /* step */, argc, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
/* lvar */
return lvar[1];
}
static VALUE method_18(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[49] /* Math */, (RNODE(global[15])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_funcall3(rb_ivar_get(self, sym[80] /* @x */), sym[7] /* error */, 0, 0);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_funcall3(rb_ivar_get(self, sym[82] /* @y */), sym[7] /* error */, 0, 0);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_funcall3(rb_ivar_get(self, sym[84] /* @z */), sym[7] /* error */, 0, 0);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[89] /* sqrt */, argc, argv);
}
return res;
}
static VALUE method_19(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[12]);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(builtinoptmeth_inspect__0(rb_ivar_get(self, sym[80] /* @x */)));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(rb_funcall3(rb_ivar_get(self, sym[80] /* @x */), sym[53] /* thrust */, 0, 0));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(builtinoptmeth_inspect__0(rb_ivar_get(self, sym[82] /* @y */)));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(rb_funcall3(rb_ivar_get(self, sym[82] /* @y */), sym[53] /* thrust */, 0, 0));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(builtinoptmeth_inspect__0(rb_ivar_get(self, sym[84] /* @z */)));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(rb_funcall3(rb_ivar_get(self, sym[84] /* @z */), sym[53] /* thrust */, 0, 0));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
return res;
}
static VALUE class_module_scope_3(NODE *cref) {
VALUE s_class = (cref)->nd_clss;
/* block */
/* defn */
class_nil_check(s_class);
if (global[14]) def_only_once(sym[69] /* initialize */);
global[14] = (VALUE)(cref);
rb_define_method(s_class, "initialize", method_13, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "states=", method_14, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "states", method_15, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "go_to", method_16, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "step", method_17, -1);
/* defn */
class_nil_check(s_class);
if (global[15]) def_only_once(sym[7] /* error */);
global[15] = (VALUE)(cref);
rb_define_method(s_class, "error", method_18, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "inspect", method_19, -1);
return Qnil;
}
static VALUE class_module_scope_4(NODE *cref) {
VALUE res;
/* block */
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[48] /* Axis */);
res = class_module_scope_2(tmp_class, NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[79] /* Machine */);
res = class_module_scope_3(NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
return res;
}
static void toplevel_scope_2(VALUE self, NODE *cref) {
VALUE res;
/* block */
/* fcall */
{
NODE *top_cref = find_top_cref(cref);
static int done = 0;
if (!done) {
done = 1;
toplevel_scope_1(org_ruby_top_self, top_cref);
}
}
/* module */
{
VALUE prefix, tmp_module;
prefix = (cref->nd_clss);
tmp_module = module_prep(prefix, sym[47] /* RNC */);
res = class_module_scope_4(NEW_NODE(NODE_CREF, tmp_module, 0, cref));
}
}
static VALUE method_20(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[3];
rb_mem_clear(lvar, 3);
if (meth_argc > 3) wrong_arg_num(meth_argc, 3);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* nil */
(lvar[0] = Qnil);
}
if (meth_argc > 1) {
lvar[1] = meth_argv[1];
}
else {
/* lasgn */
/* nil */
(lvar[1] = Qnil);
}
if (meth_argc > 2) {
lvar[2] = meth_argv[2];
}
else {
/* lasgn */
/* nil */
(lvar[2] = Qnil);
}
/* block */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[99] /* Point */, (RNODE(global[16])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* array */
{
VALUE ary = rb_ary_new2(3);
/* lvar */
RARRAY(ary)->ptr[0] = lvar[0];
RARRAY(ary)->len = 1;
/* lvar */
RARRAY(ary)->ptr[1] = lvar[1];
RARRAY(ary)->len = 2;
/* lvar */
RARRAY(ary)->ptr[2] = lvar[2];
RARRAY(ary)->len = 3;
res = ary;
}
argv[0] = res;
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
return res;
}
static VALUE method_21(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* case */
{
VALUE case_val;
/* lvar */
case_val = lvar[0];
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[43] /* Numeric */, (RNODE(global[17])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* lvar */
res = (lvar[0] = builtinoptmeth_to_i__0(lvar[0]));
}
else {
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[101] /* Symbol */, (RNODE(global[17])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[94] /* AXES */, (RNODE(global[17])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[0] = res);
}
else {
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[102] /* String */, (RNODE(global[17])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[94] /* AXES */, (RNODE(global[17])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
argv[0] = builtinoptmeth_to_sym__0(lvar[0]);
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[0] = res);
}
else {
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[104] /* ArgumentError */, (RNODE(global[17])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
argv[0] = res;
res = rb_funcall2(recv, sym[40] /* raise */, argc, argv);
}
}
}
}
}
}
}
}
/* super */
super_allowed_check();
{
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = rb_call_super(argc, argv);
}
return res;
}
static VALUE method_22(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[2];
rb_mem_clear(lvar, 2);
if (meth_argc != 2) wrong_arg_num(meth_argc, 2);
lvar[0] = meth_argv[0];
lvar[1] = meth_argv[1];
/* block */
/* case */
{
VALUE case_val;
/* lvar */
case_val = lvar[0];
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[43] /* Numeric */, (RNODE(global[18])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* lvar */
res = (lvar[0] = builtinoptmeth_to_i__0(lvar[0]));
}
else {
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[101] /* Symbol */, (RNODE(global[18])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[94] /* AXES */, (RNODE(global[18])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[0] = res);
}
else {
{
int when_handle = 1;
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[102] /* String */, (RNODE(global[18])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
argv[0] = case_val;
res = builtinoptop_eqq__1(recv, argv);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[94] /* AXES */, (RNODE(global[18])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
argv[0] = builtinoptmeth_to_sym__0(lvar[0]);
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[0] = res);
}
else {
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[104] /* ArgumentError */, (RNODE(global[18])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
argv[0] = res;
res = rb_funcall2(recv, sym[40] /* raise */, argc, argv);
}
}
}
}
}
}
}
}
/* super */
super_allowed_check();
{
const int argc = 2;
VALUE argv[2];
/* lvar */
argv[0] = lvar[0];
/* lvar */
argv[1] = lvar[1];
res = rb_call_super(argc, argv);
}
return res;
}
static VALUE method_23(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[49] /* Math */, (RNODE(global[19])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* call */
/* call */
/* call */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[89] /* sqrt */, argc, argv);
}
return res;
}
static VALUE method_24(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[99] /* Point */, (RNODE(global[20])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 3;
VALUE argv[3];
/* call */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
/* call */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
argv[1] = res;
/* call */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
argv[2] = res;
res = rb_funcall3(recv, sym[36] /* __ */, argc, argv);
}
return res;
}
static VALUE method_25(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[21]);
/* evstr */
/* or */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[91] /* X */);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
if (!RTEST(res)) {
/* str */
res = rb_str_new3(global[22]);
}
str2 = rb_obj_as_string(res);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* or */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[92] /* Y */);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
if (!RTEST(res)) {
/* str */
res = rb_str_new3(global[22]);
}
str2 = rb_obj_as_string(res);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* or */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[93] /* Z */);
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
if (!RTEST(res)) {
/* str */
res = rb_str_new3(global[22]);
}
str2 = rb_obj_as_string(res);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[23]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
return res;
}
static VALUE block_1(VALUE bl_val, VALUE closure_ary, VALUE bl_self) {
VALUE res;
VALUE *closure = RARRAY(closure_ary)->ptr;
VALUE self = (bl_self == Qundef ? closure[1] : bl_self);
VALUE dvar[1];
rb_mem_clear(dvar, 1);
if (ruby_current_node->nd_state == 1) {
if (RARRAY(bl_val)->len == 0) bl_val = Qnil;
else if (RARRAY(bl_val)->len == 1) bl_val = RARRAY(bl_val)->ptr[0];
}
{
VALUE as_val;
as_val = bl_val;
if (as_val == Qundef) as_val = Qnil;
/* dasgn_curr */
(dvar[0] = as_val);
}
block_redo:
/* if */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = rb_funcall2(recv, sym[36] /* __ */, argc, argv);
}
if (RTEST(res)) {
res = Qnil;
}
else {
/* attrasgn */
{
VALUE recv = self;
const int argc = 2;
VALUE argv[2];
/* dvar */
argv[0] = dvar[0];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[0];
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
rb_funcall2(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
}
return res;
}
static VALUE iterate_1(VALUE data) {
VALUE *iter_data = (VALUE*)data;
ruby_top_self = org_ruby_top_self;
if (iter_data[0]) return Qundef;
iter_data[0] = Qtrue;
return rb_funcall3((VALUE)(iter_data[1]), sym[107] /* each */, 0, 0);
}
static VALUE method_26(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE my_closure_ary;
VALUE *lvar;
VALUE lvar_ary = rb_ary_new2(1);
rb_mem_clear(RARRAY(lvar_ary)->ptr, 1);
RARRAY(lvar_ary)->len = 1;
lvar = RARRAY(lvar_ary)->ptr;
my_closure_ary = rb_ary_new2(2);
RARRAY(my_closure_ary)->ptr[0] = lvar_ary;
RARRAY(my_closure_ary)->ptr[1] = self;
RARRAY(my_closure_ary)->len = 2;
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* iter */
do {
/* array */
{
VALUE ary = rb_ary_new2(3);
/* lit */
RARRAY(ary)->ptr[0] = ID2SYM(sym[91] /* X */);
RARRAY(ary)->len = 1;
/* lit */
RARRAY(ary)->ptr[1] = ID2SYM(sym[92] /* Y */);
RARRAY(ary)->len = 2;
/* lit */
RARRAY(ary)->ptr[2] = ID2SYM(sym[93] /* Z */);
RARRAY(ary)->len = 3;
res = ary;
}
{
VALUE iter_data[2];
iter_data[0] = Qfalse;
iter_data[1] = (VALUE)(res);
ruby_top_self = Qundef;
res = rb_iterate(iterate_1, (VALUE)iter_data, block_1, my_closure_ary);
}
}
while (res == Qundef);
/* self */
return self;
}
static VALUE class_module_scope_5(NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* defs */
{
VALUE recv;
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[99] /* Point */, cref);
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
recv = res;
defs_allowed(recv, sym[36] /* __ */);
if (global[16]) def_only_once(sym[36] /* __ */);
global[16] = (VALUE)(cref);
rb_define_singleton_method(recv, "[]", method_20, -1);
res = Qnil;
}
/* defn */
class_nil_check(s_class);
if (global[17]) def_only_once(sym[36] /* __ */);
global[17] = (VALUE)(cref);
rb_define_method(s_class, "[]", method_21, -1);
/* defn */
class_nil_check(s_class);
if (global[18]) def_only_once(sym[105] /* __= */);
global[18] = (VALUE)(cref);
rb_define_method(s_class, "[]=", method_22, -1);
/* defn */
class_nil_check(s_class);
if (global[19]) def_only_once(sym[30] /* - */);
global[19] = (VALUE)(cref);
rb_define_method(s_class, "-", method_23, -1);
/* defn */
class_nil_check(s_class);
if (global[20]) def_only_once(sym[106] /* delta */);
global[20] = (VALUE)(cref);
rb_define_method(s_class, "delta", method_24, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "inspect", method_25, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "modal", method_26, -1);
return Qnil;
}
static VALUE method_27(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc > 1) wrong_arg_num(meth_argc, 1);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* str */
(lvar[0] = rb_str_new3(global[24]));
}
/* block */
/* iasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[99] /* Point */, (RNODE(global[25])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 3;
VALUE argv[3];
/* nil */
argv[0] = Qnil;
/* nil */
argv[1] = Qnil;
/* nil */
argv[2] = Qnil;
res = rb_funcall3(recv, sym[36] /* __ */, argc, argv);
}
rb_ivar_set(self, sym[113] /* @target */, res);
/* iasgn */
/* nil */
res = Qnil;
rb_ivar_set(self, sym[114] /* @feed */, res);
/* iasgn */
/* str */
res = rb_str_new3(global[12]);
rb_ivar_set(self, sym[115] /* @type */, res);
/* attrasgn */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
rb_funcall2(recv, sym[116] /* line= */, argc, argv);
res = argv[argc - 1];
}
return res;
}
static VALUE method_28(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* iasgn */
/* call */
/* lvar */
res = builtinoptmeth_upcase__0(lvar[0]);
rb_ivar_set(self, sym[118] /* @line */, res);
/* call */
/* self */
return rb_funcall3(self, sym[119] /* parse */, 0, 0);
}
static VALUE block_2(VALUE bl_val, VALUE closure_ary, VALUE bl_self) {
VALUE res;
VALUE *closure = RARRAY(closure_ary)->ptr;
VALUE self = (bl_self == Qundef ? closure[0] : bl_self);
VALUE dvar[1];
rb_mem_clear(dvar, 1);
if (ruby_current_node->nd_state == 1) {
if (RARRAY(bl_val)->len == 0) bl_val = Qnil;
else if (RARRAY(bl_val)->len == 1) bl_val = RARRAY(bl_val)->ptr[0];
}
{
VALUE as_val;
as_val = bl_val;
if (as_val == Qundef) as_val = Qnil;
/* dasgn_curr */
(dvar[0] = as_val);
}
block_redo:
/* case */
{
VALUE case_val;
/* dvar */
case_val = dvar[0];
{
int when_handle = 1;
/* call */
/* lit */
{
VALUE recv = global[29];
VALUE argv[1];
argv[0] = case_val;
res = (*(builtinopt_method_tbl[119]))(recv, argv[0]);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[113] /* @target */);
const int argc = 2;
VALUE argv[2];
/* nth_ref */
argv[0] = rb_reg_nth_match(1, rb_backref_get());
/* call */
/* nth_ref */
argv[1] = builtinoptmeth_to_f__0(rb_reg_nth_match(2, rb_backref_get()));
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
}
else {
{
int when_handle = 1;
/* call */
/* lit */
{
VALUE recv = global[30];
VALUE argv[1];
argv[0] = case_val;
res = (*(builtinopt_method_tbl[119]))(recv, argv[0]);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* iasgn */
/* call */
/* nth_ref */
res = builtinoptmeth_to_f__0(rb_reg_nth_match(1, rb_backref_get()));
rb_ivar_set(self, sym[114] /* @feed */, res);
}
else {
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[31]);
/* evstr */
/* dvar */
str2 = rb_obj_as_string(dvar[0]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
argv[0] = res;
res = rb_funcall2(recv, sym[40] /* raise */, argc, argv);
}
}
}
}
}
}
return res;
}
static VALUE method_29(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE my_closure_ary;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
my_closure_ary = rb_ary_new2(1);
RARRAY(my_closure_ary)->ptr[0] = self;
RARRAY(my_closure_ary)->len = 1;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* lasgn */
/* call */
/* ivar */
(lvar[0] = builtinoptmeth_split__0(rb_ivar_get(self, sym[118] /* @line */)));
/* iasgn */
/* call */
/* call */
/* lvar */
res = builtinoptmeth_to_sym__0(builtinoptmeth_shift__0(lvar[0]));
rb_ivar_set(self, sym[115] /* @type */, res);
/* if */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[97] /* COMMANDS */, (RNODE(global[26])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[115] /* @type */);
res = builtinoptmeth_include__pred__1(recv, argv);
}
if (RTEST(res)) {
res = Qnil;
}
else {
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[27]);
/* evstr */
/* ivar */
str2 = rb_obj_as_string(rb_ivar_get(self, sym[115] /* @type */));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[28]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
argv[0] = res;
res = rb_funcall2(recv, sym[40] /* raise */, argc, argv);
}
}
/* iter */
do {
/* lvar */
{
VALUE iter_data[2];
iter_data[0] = Qfalse;
iter_data[1] = (VALUE)(lvar[0]);
ruby_top_self = Qundef;
res = rb_iterate(iterate_1, (VALUE)iter_data, block_2, my_closure_ary);
}
}
while (res == Qundef);
return res;
}
static VALUE method_30(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[21]);
/* evstr */
/* ivar */
str2 = rb_obj_as_string(rb_ivar_get(self, sym[115] /* @type */));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[13]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* call */
/* ivar */
str2 = rb_obj_as_string(builtinoptmeth_inspect__0(rb_ivar_get(self, sym[113] /* @target */)));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[32]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* ivar */
str2 = rb_obj_as_string(rb_ivar_get(self, sym[114] /* @feed */));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[23]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
return res;
}
static VALUE class_module_scope_6(VALUE self, NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[109] /* line */);
res = rb_funcall2(recv, sym[9] /* attr_reader */, argc, argv);
}
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* lit */
argv[0] = ID2SYM(sym[110] /* target */);
/* lit */
argv[1] = ID2SYM(sym[111] /* feed */);
/* lit */
argv[2] = ID2SYM(sym[112] /* type */);
res = rb_funcall2(recv, sym[9] /* attr_reader */, argc, argv);
}
/* defn */
class_nil_check(s_class);
if (global[25]) def_only_once(sym[69] /* initialize */);
global[25] = (VALUE)(cref);
rb_define_method(s_class, "initialize", method_27, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "line=", method_28, -1);
/* defn */
class_nil_check(s_class);
if (global[26]) def_only_once(sym[119] /* parse */);
global[26] = (VALUE)(cref);
rb_define_method(s_class, "parse", method_29, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "inspect", method_30, -1);
return Qnil;
}
static VALUE method_31(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc > 1) wrong_arg_num(meth_argc, 1);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* hash */
(lvar[0] = rb_hash_new());
}
/* block */
/* iasgn */
/* lvar */
res = lvar[0];
rb_ivar_set(self, sym[125] /* @config */, res);
/* iasgn */
/* zarray */
res = rb_ary_new();
rb_ivar_set(self, sym[126] /* @blocks */, res);
/* iasgn */
/* hash */
{
VALUE key, hash = rb_hash_new();
/* lit */
key = ID2SYM(sym[127] /* pos */);
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[99] /* Point */, (RNODE(global[33])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 3;
VALUE argv[3];
/* lit */
argv[0] = LONG2FIX(0);
/* lit */
argv[1] = LONG2FIX(0);
/* lit */
argv[2] = LONG2FIX(0);
res = rb_funcall3(recv, sym[36] /* __ */, argc, argv);
}
rb_hash_aset(hash, key, res);
/* lit */
key = ID2SYM(sym[111] /* feed */);
/* lit */
rb_hash_aset(hash, key, global[2]);
res = hash;
}
rb_ivar_set(self, sym[128] /* @state */, res);
/* iasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[129] /* Profiler */, (RNODE(global[33])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* ivar */
argv[0] = rb_ivar_get(self, sym[125] /* @config */);
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
rb_ivar_set(self, sym[130] /* @profiler */, res);
return res;
}
static VALUE block_3(VALUE bl_val, VALUE closure_ary, VALUE bl_self) {
VALUE res;
VALUE *closure = RARRAY(closure_ary)->ptr;
VALUE self = (bl_self == Qundef ? closure[1] : bl_self);
NODE *cref = (Check_Type(closure[2], T_DATA), (NODE*)DATA_PTR(closure[2]));
VALUE dvar[3];
rb_mem_clear(dvar, 3);
if (ruby_current_node->nd_state == 1) {
if (RARRAY(bl_val)->len == 0) bl_val = Qnil;
else if (RARRAY(bl_val)->len == 1) bl_val = RARRAY(bl_val)->ptr[0];
}
{
VALUE as_val;
as_val = bl_val;
if (as_val == Qundef) as_val = Qnil;
/* dasgn_curr */
(dvar[0] = as_val);
}
block_redo:
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[34]);
/* evstr */
/* lasgn */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_plus__1(recv, argv);
}
str2 = rb_obj_as_string((RARRAY(closure[0])->ptr[0] = res));
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[35]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* evstr */
/* dvar */
str2 = rb_obj_as_string(dvar[0]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
argv[0] = res;
res = rb_funcall2(recv, sym[131] /* puts */, argc, argv);
}
/* dasgn_curr */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[108] /* Block */, cref);
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = rb_funcall3(recv, sym[64] /* new */, argc, argv);
}
(dvar[1] = res);
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[109] /* line */);
/* dvar */
argv[1] = dvar[0];
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[112] /* type */);
/* call */
/* dvar */
argv[1] = rb_funcall3(dvar[1], sym[112] /* type */, 0, 0);
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[111] /* feed */);
/* or */
/* call */
/* dvar */
res = rb_funcall3(dvar[1], sym[111] /* feed */, 0, 0);
if (!RTEST(res)) {
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[128] /* @state */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[111] /* feed */);
res = builtinoptop_aref__1(recv, argv);
}
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[132] /* start */);
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[128] /* @state */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[127] /* pos */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[133] /* end */);
/* call */
/* call */
/* dvar */
{
VALUE recv = rb_funcall3(dvar[1], sym[110] /* target */, 0, 0);
const int argc = 1;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[128] /* @state */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[127] /* pos */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[134] /* modal */, argc, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* dasgn_curr */
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[133] /* end */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[132] /* start */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
(dvar[2] = res);
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[135] /* prof */);
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[130] /* @profiler */);
const int argc = 4;
VALUE argv[4];
/* lit */
argv[0] = LONG2FIX(0);
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[111] /* feed */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
/* lit */
argv[2] = LONG2FIX(0);
/* dvar */
argv[3] = dvar[2];
res = rb_funcall3(recv, sym[136] /* velocity_profile */, argc, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[106] /* delta */);
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[133] /* end */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[132] /* start */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[106] /* delta */, argc, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[137] /* dt */);
/* call */
/* ivar */
argv[1] = rb_funcall3(rb_ivar_get(self, sym[130] /* @profiler */), sym[137] /* dt */, 0, 0);
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[128] /* @state */);
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[127] /* pos */);
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[133] /* end */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* attrasgn */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[128] /* @state */);
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[111] /* feed */);
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[111] /* feed */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[126] /* @blocks */);
VALUE argv[1];
/* call */
/* lvar */
argv[0] = builtinoptmeth_dup__0(RARRAY(closure[0])->ptr[1]);
res = builtinoptop_lshift__1(recv, argv);
}
return res;
}
static VALUE iterate_2(VALUE data) {
VALUE *iter_data = (VALUE*)data;
ruby_top_self = org_ruby_top_self;
if (iter_data[0]) return Qundef;
iter_data[0] = Qtrue;
return rb_funcall3((VALUE)(iter_data[1]), sym[141] /* foreach */, (int)(iter_data[2]), (VALUE*)(iter_data[3]));
}
static VALUE method_32(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE my_closure_ary;
VALUE *lvar;
VALUE lvar_ary = rb_ary_new2(2);
rb_mem_clear(RARRAY(lvar_ary)->ptr, 2);
RARRAY(lvar_ary)->len = 2;
lvar = RARRAY(lvar_ary)->ptr;
my_closure_ary = rb_ary_new2(3);
RARRAY(my_closure_ary)->ptr[0] = lvar_ary;
RARRAY(my_closure_ary)->ptr[1] = self;
RARRAY(my_closure_ary)->ptr[2] = Data_Wrap_Struct(rb_cObject, cref_data_mark, 0, (RNODE(global[36])));
RARRAY(my_closure_ary)->len = 3;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* lasgn */
/* lit */
(lvar[0] = LONG2FIX(0));
/* lasgn */
/* hash */
(lvar[1] = rb_hash_new());
/* iter */
do {
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[139] /* File */, (RNODE(global[36])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[125] /* @config */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[140] /* file */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
{
VALUE iter_data[4];
iter_data[0] = Qfalse;
iter_data[1] = (VALUE)(recv);
iter_data[2] = (VALUE)(argc);
iter_data[3] = (VALUE)(argv);
ruby_top_self = Qundef;
res = rb_iterate(iterate_2, (VALUE)iter_data, block_3, my_closure_ary);
}
}
}
while (res == Qundef);
/* return */
/* lvar */
return lvar[0];
return Qnil;
}
static VALUE method_33(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[2];
rb_mem_clear(lvar, 2);
if (meth_argc < 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
if (meth_argc > 1) {
lvar[1] = rb_ary_new4(meth_argc-1, meth_argv+1);
}
else {
lvar[1] = rb_ary_new2(0);
}
/* block */
/* if */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[125] /* @config */);
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_aref__1(recv, argv);
}
if (RTEST(res)) {
res = Qnil;
}
else {
/* fcall */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* dstr */
{
VALUE str, str2;
str = rb_str_new3(global[37]);
/* evstr */
/* lvar */
str2 = rb_obj_as_string(lvar[0]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
/* str */
str2 = rb_str_new3(global[38]);
rb_str_append(str, str2);
OBJ_INFECT(str, str2);
res = str;
}
argv[0] = res;
res = rb_funcall2(recv, sym[40] /* raise */, argc, argv);
}
}
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[125] /* @config */);
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_aref__1(recv, argv);
}
return res;
}
static VALUE class_module_scope_7(VALUE self, NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* fcall */
{
VALUE recv = self;
const int argc = 2;
VALUE argv[2];
/* lit */
argv[0] = ID2SYM(sym[123] /* config */);
/* lit */
argv[1] = ID2SYM(sym[124] /* blocks */);
res = rb_funcall2(recv, sym[6] /* attr_accessor */, argc, argv);
}
/* defn */
class_nil_check(s_class);
if (global[33]) def_only_once(sym[69] /* initialize */);
global[33] = (VALUE)(cref);
rb_define_method(s_class, "initialize", method_31, -1);
/* defn */
class_nil_check(s_class);
if (global[36]) def_only_once(sym[119] /* parse */);
global[36] = (VALUE)(cref);
rb_define_method(s_class, "parse", method_32, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "method_missing", method_33, -1);
return Qnil;
}
static VALUE method_34(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc > 1) wrong_arg_num(meth_argc, 1);
if (meth_argc > 0) {
lvar[0] = meth_argv[0];
}
else {
/* lasgn */
/* hash */
(lvar[0] = rb_hash_new());
}
/* block */
/* iasgn */
/* lvar */
res = lvar[0];
rb_ivar_set(self, sym[145] /* @cfg */, res);
return res;
}
static VALUE block_4(VALUE bl_val, VALUE closure_ary, VALUE bl_self) {
VALUE res;
VALUE *closure = RARRAY(closure_ary)->ptr;
VALUE dvar[3];
rb_mem_clear(dvar, 3);
if (ruby_current_node->nd_state == 1) {
if (RARRAY(bl_val)->len == 0) bl_val = Qnil;
else if (RARRAY(bl_val)->len == 1) bl_val = RARRAY(bl_val)->ptr[0];
}
{
VALUE as_val;
as_val = bl_val;
if (as_val == Qundef) as_val = Qnil;
/* dasgn_curr */
(dvar[0] = as_val);
}
block_redo:
/* if */
/* call */
/* dvar */
{
VALUE recv = dvar[0];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[4];
res = builtinoptop_lt__1(recv, argv);
}
if (RTEST(res)) {
/* dasgn_curr */
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[0];
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[8];
VALUE argv[1];
/* call */
/* dvar */
{
VALUE recv = dvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
res = (dvar[1] = res);
}
else {
/* if */
/* call */
/* dvar */
{
VALUE recv = dvar[0];
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[4];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[6];
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lt__1(recv, argv);
}
if (RTEST(res)) {
/* dasgn_curr */
/* call */
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[0];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[1];
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[4];
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_div__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* call */
/* dvar */
{
VALUE recv = dvar[0];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[4];
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
res = (dvar[1] = res);
}
else {
/* block */
/* dasgn_curr */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[4];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[6];
res = builtinoptop_plus__1(recv, argv);
}
(dvar[2] = res);
/* dasgn_curr */
/* call */
/* call */
/* call */
/* call */
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[0];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[1];
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[4];
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_div__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[6];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
VALUE argv[1];
/* call */
/* dvar */
{
VALUE recv = dvar[0];
VALUE argv[1];
/* dvar */
argv[0] = dvar[2];
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[9];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_div__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* dvar */
{
VALUE recv = dvar[0];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* dvar */
{
VALUE recv = dvar[2];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[9];
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* dvar */
argv[0] = dvar[2];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
res = (dvar[1] = res);
}
}
/* call */
/* dvar */
{
VALUE recv = dvar[1];
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[3];
res = builtinoptop_div__1(recv, argv);
}
return res;
}
static VALUE iterate_3(VALUE data) {
VALUE *iter_data = (VALUE*)data;
ruby_top_self = org_ruby_top_self;
if (iter_data[0]) return Qundef;
iter_data[0] = Qtrue;
return rb_funcall2((VALUE)(iter_data[1]), sym[157] /* proc */, 0, 0);
}
static VALUE method_35(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE my_closure_ary;
VALUE *lvar;
VALUE lvar_ary = rb_ary_new2(11);
rb_mem_clear(RARRAY(lvar_ary)->ptr, 11);
RARRAY(lvar_ary)->len = 11;
lvar = RARRAY(lvar_ary)->ptr;
my_closure_ary = rb_ary_new2(1);
RARRAY(my_closure_ary)->ptr[0] = lvar_ary;
RARRAY(my_closure_ary)->len = 1;
if (meth_argc != 4) wrong_arg_num(meth_argc, 4);
lvar[0] = meth_argv[0];
lvar[1] = meth_argv[1];
lvar[2] = meth_argv[2];
lvar[3] = meth_argv[3];
/* block */
/* lasgn */
/* call */
/* lvar */
(lvar[0] = builtinoptmeth_to_f__0(lvar[0]));
/* lasgn */
/* call */
/* lvar */
(lvar[1] = builtinoptmeth_to_f__0(lvar[1]));
/* lasgn */
/* call */
/* lvar */
(lvar[2] = builtinoptmeth_to_f__0(lvar[2]));
/* lasgn */
/* call */
/* lvar */
(lvar[3] = builtinoptmeth_to_f__0(lvar[3]));
/* lasgn */
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[147] /* A */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = builtinoptmeth_to_f__0(res);
res = builtinoptop_div__1(recv, argv);
}
(lvar[4] = builtinoptmeth_abs__0(res));
/* lasgn */
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* lvar */
argv[0] = lvar[2];
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[148] /* D */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = builtinoptmeth_to_f__0(res);
res = builtinoptop_div__1(recv, argv);
}
(lvar[5] = builtinoptmeth_abs__0(res));
/* lasgn */
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_div__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[4];
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lit */
{
VALUE recv = LONG2FIX(2);
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[134]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[5];
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* lvar */
argv[0] = lvar[2];
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lit */
{
VALUE recv = LONG2FIX(2);
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[134]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
(lvar[6] = res);
/* if */
/* call */
/* lvar */
{
VALUE recv = lvar[6];
VALUE argv[1];
/* lit */
argv[0] = global[2];
res = builtinoptop_ge__1(recv, argv);
}
if (RTEST(res)) {
/* block */
/* lasgn */
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[4];
VALUE argv[1];
/* lvar */
argv[0] = lvar[6];
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[150] /* t_q */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
/* lit */
argv[2] = ID2SYM(sym[151] /* up */);
res = rb_funcall2(recv, sym[152] /* quantize */, argc, argv);
}
(lvar[7] = res);
/* lasgn */
/* call */
/* lvar */
{
VALUE recv = lvar[6];
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[7];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
(lvar[6] = res);
/* lasgn */
/* call */
/* call */
/* call */
/* call */
/* lit */
{
VALUE recv = LONG2FIX(2);
VALUE argv[1];
/* lvar */
argv[0] = lvar[3];
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[134]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lvar */
argv[0] = lvar[4];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[2];
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[4];
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lit */
{
VALUE recv = LONG2FIX(2);
VALUE argv[1];
/* lvar */
argv[0] = lvar[6];
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[134]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
(lvar[1] = res);
/* lasgn */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[1];
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[4];
res = builtinoptop_div__1(recv, argv);
}
(lvar[8] = res);
/* lasgn */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[2];
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_div__1(recv, argv);
}
res = (lvar[9] = res);
}
else {
/* block */
/* lasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[49] /* Math */, (RNODE(global[39])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* call */
/* call */
/* lit */
{
VALUE recv = LONG2FIX(2);
VALUE argv[1];
/* lvar */
argv[0] = lvar[3];
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[134]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[147] /* A */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[147] /* A */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(2);
res = builtinoptop_pow__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[148] /* D */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = rb_funcall3(recv, sym[89] /* sqrt */, argc, argv);
}
(lvar[4] = res);
/* lasgn */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[4];
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[147] /* A */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[148] /* D */);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
(lvar[5] = res);
/* lasgn */
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* call */
/* lvar */
{
VALUE recv = lvar[4];
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[150] /* t_q */);
res = builtinoptop_aref__1(recv, argv);
}
argv[1] = res;
/* lit */
argv[2] = ID2SYM(sym[151] /* up */);
res = rb_funcall2(recv, sym[152] /* quantize */, argc, argv);
}
(lvar[7] = res);
/* lasgn */
/* lit */
(lvar[6] = global[2]);
/* lasgn */
/* call */
/* lvar */
{
VALUE recv = lvar[5];
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[7];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_aref__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
(lvar[5] = res);
/* lasgn */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* call */
/* call */
/* lit */
{
VALUE recv = LONG2FIX(2);
VALUE argv[1];
/* lvar */
argv[0] = lvar[3];
switch(TYPE(argv[0])) {
case T_FIXNUM:
case T_FLOAT:
res = (*(builtinopt_method_tbl[134]))(recv, argv[0]);
break;
default:
res = rb_funcall3(recv, sym[31] /* * */, 1, argv);
}
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* lvar */
{
VALUE recv = lvar[4];
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_plus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_div__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
(lvar[1] = res);
/* lasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[145] /* @cfg */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[147] /* A */);
res = builtinoptop_aref__1(recv, argv);
}
(lvar[8] = res);
/* lasgn */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[2];
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_minus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[5];
res = builtinoptop_div__1(recv, argv);
}
res = (lvar[9] = res);
}
/* lasgn */
/* call */
/* lvar */
{
VALUE recv = lvar[7];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
(lvar[10] = res);
/* iasgn */
/* array */
{
VALUE ary = rb_ary_new2(3);
/* lvar */
RARRAY(ary)->ptr[0] = lvar[4];
RARRAY(ary)->len = 1;
/* lvar */
RARRAY(ary)->ptr[1] = lvar[6];
RARRAY(ary)->len = 2;
/* lvar */
RARRAY(ary)->ptr[2] = lvar[5];
RARRAY(ary)->len = 3;
res = ary;
}
rb_ivar_set(self, sym[153] /* @times */, res);
/* iasgn */
/* array */
{
VALUE ary = rb_ary_new2(3);
/* lvar */
RARRAY(ary)->ptr[0] = lvar[0];
RARRAY(ary)->len = 1;
/* lvar */
RARRAY(ary)->ptr[1] = lvar[1];
RARRAY(ary)->len = 2;
/* lvar */
RARRAY(ary)->ptr[2] = lvar[2];
RARRAY(ary)->len = 3;
res = ary;
}
rb_ivar_set(self, sym[154] /* @feeds */, res);
/* iasgn */
/* array */
{
VALUE ary = rb_ary_new2(2);
/* lvar */
RARRAY(ary)->ptr[0] = lvar[8];
RARRAY(ary)->len = 1;
/* lvar */
RARRAY(ary)->ptr[1] = lvar[9];
RARRAY(ary)->len = 2;
res = ary;
}
rb_ivar_set(self, sym[155] /* @accel */, res);
/* iasgn */
/* lvar */
res = lvar[10];
rb_ivar_set(self, sym[156] /* @dt */, res);
/* iter */
do {
{
VALUE iter_data[2];
iter_data[0] = Qfalse;
iter_data[1] = (VALUE)(self);
ruby_top_self = Qundef;
res = rb_iterate(iterate_3, (VALUE)iter_data, block_4, my_closure_ary);
}
}
while (res == Qundef);
return res;
}
static VALUE method_36(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[4];
rb_mem_clear(lvar, 4);
if (meth_argc < 2) wrong_arg_num(meth_argc, 2);
if (meth_argc > 3) wrong_arg_num(meth_argc, 3);
lvar[0] = meth_argv[0];
lvar[1] = meth_argv[1];
if (meth_argc > 2) {
lvar[2] = meth_argv[2];
}
else {
/* lasgn */
/* lit */
(lvar[2] = ID2SYM(sym[151] /* up */));
}
/* block */
/* lasgn */
/* zarray */
(lvar[3] = rb_ary_new());
/* lasgn */
/* call */
/* lvar */
(lvar[1] = builtinoptmeth_to_f__0(lvar[1]));
/* if */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_mod__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lit */
argv[0] = global[2];
res = builtinoptop_equal__1(recv, argv);
}
if (RTEST(res)) {
/* return */
/* array */
{
VALUE ary = rb_ary_new2(2);
/* lvar */
RARRAY(ary)->ptr[0] = lvar[0];
RARRAY(ary)->len = 1;
/* lit */
RARRAY(ary)->ptr[1] = global[2];
RARRAY(ary)->len = 2;
res = ary;
}
return res;
res = Qnil;
}
else {
res = Qnil;
}
/* if */
/* call */
/* lvar */
{
VALUE recv = lvar[2];
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[151] /* up */);
res = builtinoptop_equal__1(recv, argv);
}
if (RTEST(res)) {
/* block */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_div__1(recv, argv);
}
{
VALUE recv = builtinoptmeth_to_i__0(res);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_plus__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
}
else {
/* block */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[0];
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_div__1(recv, argv);
}
{
VALUE recv = builtinoptmeth_to_i__0(res);
VALUE argv[1];
/* lvar */
argv[0] = lvar[1];
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* call */
/* call */
/* lvar */
{
VALUE recv = lvar[3];
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_minus__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_lshift__1(recv, argv);
}
}
/* lvar */
return lvar[3];
}
static VALUE class_module_scope_8(VALUE self, NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* fcall */
{
VALUE recv = self;
const int argc = 4;
VALUE argv[4];
/* lit */
argv[0] = ID2SYM(sym[142] /* times */);
/* lit */
argv[1] = ID2SYM(sym[143] /* feeds */);
/* lit */
argv[2] = ID2SYM(sym[144] /* accel */);
/* lit */
argv[3] = ID2SYM(sym[137] /* dt */);
res = rb_funcall2(recv, sym[9] /* attr_reader */, argc, argv);
}
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "initialize", method_34, -1);
/* defn */
class_nil_check(s_class);
if (global[39]) def_only_once(sym[136] /* velocity_profile */);
global[39] = (VALUE)(cref);
rb_define_method(s_class, "velocity_profile", method_35, -1);
/* vcall */
/* defn */
class_nil_check(s_class);
rb_define_private_method(s_class, "quantize", method_36, -1);
return Qnil;
}
static VALUE method_37(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* iasgn */
/* lvar */
res = lvar[0];
rb_ivar_set(self, sym[126] /* @blocks */, res);
/* call */
/* self */
{
VALUE recv = self;
const int argc = 1;
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(0);
res = rb_funcall3(recv, sym[161] /* select */, argc, argv);
}
return res;
}
static VALUE method_38(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE lvar[1];
rb_mem_clear(lvar, 1);
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* iasgn */
/* lvar */
res = lvar[0];
rb_ivar_set(self, sym[24] /* @i */, res);
/* iasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[126] /* @blocks */);
VALUE argv[1];
/* lvar */
argv[0] = lvar[0];
res = builtinoptop_aref__1(recv, argv);
}
rb_ivar_set(self, sym[162] /* @block */, res);
return res;
}
static VALUE method_39(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
if (meth_argc != 0) wrong_arg_num(meth_argc, 0);
/* block */
/* iasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[126] /* @blocks */);
VALUE argv[1];
/* iasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[24] /* @i */);
VALUE argv[1];
/* lit */
argv[0] = LONG2FIX(1);
res = builtinoptop_plus__1(recv, argv);
}
rb_ivar_set(self, sym[24] /* @i */, res);
argv[0] = res;
res = builtinoptop_aref__1(recv, argv);
}
rb_ivar_set(self, sym[162] /* @block */, res);
return res;
}
static VALUE block_5(VALUE bl_val, VALUE closure_ary, VALUE bl_self) {
VALUE res;
VALUE *closure = RARRAY(closure_ary)->ptr;
VALUE self = (bl_self == Qundef ? closure[1] : bl_self);
VALUE dvar[1];
rb_mem_clear(dvar, 1);
if (ruby_current_node->nd_state == 1) {
if (RARRAY(bl_val)->len == 0) bl_val = Qnil;
else if (RARRAY(bl_val)->len == 1) bl_val = RARRAY(bl_val)->ptr[0];
}
{
VALUE as_val;
as_val = bl_val;
if (as_val == Qundef) as_val = Qnil;
/* dasgn_curr */
(dvar[0] = as_val);
}
block_redo:
/* attrasgn */
/* lvar */
{
VALUE recv = RARRAY(closure[0])->ptr[1];
const int argc = 2;
VALUE argv[2];
/* dvar */
argv[0] = dvar[0];
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[162] /* @block */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[132] /* start */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[162] /* @block */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[106] /* delta */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* dvar */
argv[0] = dvar[0];
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
VALUE argv[1];
/* call */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[162] /* @block */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[135] /* prof */);
res = builtinoptop_aref__1(recv, argv);
}
{
VALUE recv = res;
const int argc = 1;
VALUE argv[1];
/* lvar */
argv[0] = RARRAY(closure[0])->ptr[0];
res = rb_funcall3(recv, sym[45] /* call */, argc, argv);
}
argv[0] = res;
res = builtinoptop_mul__1(recv, argv);
}
argv[0] = res;
res = builtinoptop_plus__1(recv, argv);
}
argv[1] = res;
rb_funcall3(recv, sym[105] /* __= */, argc, argv);
res = argv[argc - 1];
}
return res;
}
static VALUE method_40(int meth_argc, VALUE *meth_argv, VALUE self) {
VALUE res;
VALUE my_closure_ary;
VALUE *lvar;
VALUE lvar_ary = rb_ary_new2(2);
rb_mem_clear(RARRAY(lvar_ary)->ptr, 2);
RARRAY(lvar_ary)->len = 2;
lvar = RARRAY(lvar_ary)->ptr;
my_closure_ary = rb_ary_new2(2);
RARRAY(my_closure_ary)->ptr[0] = lvar_ary;
RARRAY(my_closure_ary)->ptr[1] = self;
RARRAY(my_closure_ary)->len = 2;
if (meth_argc != 1) wrong_arg_num(meth_argc, 1);
lvar[0] = meth_argv[0];
/* block */
/* lasgn */
/* call */
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[99] /* Point */, (RNODE(global[40])));
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
(lvar[1] = rb_funcall3(res, sym[36] /* __ */, 0, 0));
/* case */
{
VALUE case_val;
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[162] /* @block */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[112] /* type */);
res = builtinoptop_aref__1(recv, argv);
}
case_val = res;
{
int when_handle = 1;
/* call */
/* lit */
{
VALUE recv = ID2SYM(sym[95] /* G00 */);
VALUE argv[1];
argv[0] = case_val;
res = (*(builtinopt_method_tbl[143]))(recv, argv[0]);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* lasgn */
/* call */
/* ivar */
{
VALUE recv = rb_ivar_get(self, sym[162] /* @block */);
VALUE argv[1];
/* lit */
argv[0] = ID2SYM(sym[133] /* end */);
res = builtinoptop_aref__1(recv, argv);
}
res = (lvar[1] = res);
}
else {
{
int when_handle = 1;
/* call */
/* lit */
{
VALUE recv = ID2SYM(sym[96] /* G01 */);
VALUE argv[1];
argv[0] = case_val;
res = (*(builtinopt_method_tbl[143]))(recv, argv[0]);
}
if (!RTEST(res)) {
when_handle = 0;
}
if (when_handle) {
/* iter */
do {
/* array */
{
VALUE ary = rb_ary_new2(3);
/* lit */
RARRAY(ary)->ptr[0] = ID2SYM(sym[91] /* X */);
RARRAY(ary)->len = 1;
/* lit */
RARRAY(ary)->ptr[1] = ID2SYM(sym[92] /* Y */);
RARRAY(ary)->len = 2;
/* lit */
RARRAY(ary)->ptr[2] = ID2SYM(sym[93] /* Z */);
RARRAY(ary)->len = 3;
res = ary;
}
{
VALUE iter_data[2];
iter_data[0] = Qfalse;
iter_data[1] = (VALUE)(res);
ruby_top_self = Qundef;
res = rb_iterate(iterate_1, (VALUE)iter_data, block_5, my_closure_ary);
}
}
while (res == Qundef);
}
else {
res = Qnil;
}
}
}
}
}
/* lvar */
return lvar[1];
}
static VALUE class_module_scope_9(VALUE self, NODE *cref) {
VALUE res;
VALUE s_class = (cref)->nd_clss;
/* block */
/* fcall */
{
VALUE recv = self;
const int argc = 3;
VALUE argv[3];
/* lit */
argv[0] = ID2SYM(sym[160] /* block */);
/* lit */
argv[1] = ID2SYM(sym[124] /* blocks */);
/* lit */
argv[2] = ID2SYM(sym[11] /* i */);
res = rb_funcall2(recv, sym[6] /* attr_accessor */, argc, argv);
}
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "initialize", method_37, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "select", method_38, -1);
/* defn */
class_nil_check(s_class);
rb_define_method(s_class, "next", method_39, -1);
/* defn */
class_nil_check(s_class);
if (global[40]) def_only_once(sym[163] /* eval */);
global[40] = (VALUE)(cref);
rb_define_method(s_class, "eval", method_40, -1);
return Qnil;
}
static VALUE class_module_scope_10(NODE *cref) {
VALUE res;
/* block */
/* cdecl */
{
VALUE val;
/* hash */
{
VALUE key, hash = rb_hash_new();
/* lit */
key = ID2SYM(sym[91] /* X */);
/* lit */
rb_hash_aset(hash, key, LONG2FIX(0));
/* lit */
key = ID2SYM(sym[92] /* Y */);
/* lit */
rb_hash_aset(hash, key, LONG2FIX(1));
/* lit */
key = ID2SYM(sym[93] /* Z */);
/* lit */
rb_hash_aset(hash, key, LONG2FIX(2));
res = hash;
}
val = res;
rb_const_set((cref->nd_clss), sym[94] /* AXES */, val);
res = val;
}
/* cdecl */
{
VALUE val;
/* array */
{
VALUE ary = rb_ary_new2(2);
/* lit */
RARRAY(ary)->ptr[0] = ID2SYM(sym[95] /* G00 */);
RARRAY(ary)->len = 1;
/* lit */
RARRAY(ary)->ptr[1] = ID2SYM(sym[96] /* G01 */);
RARRAY(ary)->len = 2;
res = ary;
}
val = res;
rb_const_set((cref->nd_clss), sym[97] /* COMMANDS */, val);
res = val;
}
/* class */
{
VALUE prefix, tmp_class;
VALUE super;
prefix = (cref->nd_clss);
/* const */
{
static VALUE static_once_value = Qundef;
if (static_once_value == Qundef) {
res = const_get(sym[98] /* Array */, cref);
if (static_once_value == Qundef) {
static_once_value = res;
rb_global_variable(&static_once_value);
}
}
res = static_once_value;
}
super = res;
tmp_class = class_prep(prefix, super, sym[99] /* Point */);
res = class_module_scope_5(NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[108] /* Block */);
res = class_module_scope_6(tmp_class, NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[122] /* Parser */);
res = class_module_scope_7(tmp_class, NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[129] /* Profiler */);
res = class_module_scope_8(tmp_class, NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
/* class */
{
VALUE prefix, tmp_class;
prefix = (cref->nd_clss);
tmp_class = class_prep(prefix, 0, sym[159] /* Interpolator */);
res = class_module_scope_9(tmp_class, NEW_NODE(NODE_CREF, tmp_class, 0, cref));
}
return res;
}
static void toplevel_scope_3(VALUE self, NODE *cref) {
VALUE res;
/* block */
/* module */
{
VALUE prefix, tmp_module;
prefix = (cref->nd_clss);
tmp_module = module_prep(prefix, sym[47] /* RNC */);
res = class_module_scope_10(NEW_NODE(NODE_CREF, tmp_module, 0, cref));
}
}
static void toplevel_scope_4(VALUE self, NODE *cref) {
/* block */
/* fcall */
{
NODE *top_cref = find_top_cref(cref);
static int done = 0;
if (!done) {
done = 1;
toplevel_scope_2(org_ruby_top_self, top_cref);
}
}
/* fcall */
{
NODE *top_cref = find_top_cref(cref);
static int done = 0;
if (!done) {
done = 1;
toplevel_scope_3(org_ruby_top_self, top_cref);
}
}
/* fcall */
}
void Init_RNC_lib() {
org_ruby_top_self = ruby_top_self;
rb_global_variable(&org_ruby_top_self);
init_syms();
init_globals();
NODE *cref = rb_node_newnode(NODE_CREF, rb_cObject, 0, 0);
init_builtinopt();
toplevel_scope_4(ruby_top_self, cref);
}
